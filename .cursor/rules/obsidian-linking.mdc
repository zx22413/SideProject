---
description: Obsidian 連結規範 - 確保所有 Markdown 文件使用正確的 Obsidian Flavored Markdown 連結格式
tags: [obsidian, linking, markdown, always]
trigger: always
version: 1.0.0
---

# Obsidian Linking Rule

## 核心原則

在編輯或建立 Markdown 文件時，必須遵循以下 Obsidian 連結規範：

### 1. 優先使用 Wikilinks（雙向連結）

**推薦格式**：
```markdown
[[文件名稱]]
[[文件名稱|顯示文字]]
[[../../00-核心企劃/開發決策鏈]]
[[../02-研究分析/靈魂食堂企劃重構]]
```

**避免使用**：
```markdown
[連結](./path/to/file.md)  # ❌ 不推薦（除非連結到外部 URL）
[[開發決策鏈]]              # ⚠️ 可能產生歧義（當多個同名文件存在時）
```

### 2. 使用相對路徑連結（避免歧義）

**當檔案位於不同資料夾時，使用相對路徑**：
```markdown
[[../../00-核心企劃/當前專案_靈魂食堂/靈魂食堂：最終開發執行企劃書]]
[[../00-工作區/主 Backlog_2026-01-15]]
[[./程式碼/專案實作對照表]]
```

**相對路徑說明**：
- `../` = 上一層目錄
- `../../` = 上兩層目錄
- `./` = 當前目錄

### 3. 連結到標題和區塊

**連結到標題**：
```markdown
[[靈魂食堂：最終開發執行企劃書#核心機制]]
[[#當前文件的標題]]
```

**連結到區塊**：
```markdown
[[工作報告_2026-01-21_UX全面改進#^key-findings]]
```

定義區塊 ID：
```markdown
這是一個可以被連結的段落。 ^my-block-id
```

### 4. 避免空連結

**在建立連結前，必須確認**：
- ✅ 連結的目標文件是否存在
- ✅ 路徑是否正確
- ✅ 文件名是否拼寫正確

**檢查清單**：
1. 建立連結後，點擊測試是否可以正常開啟
2. 如果是新文件，先建立文件再建立連結
3. 定期使用 Obsidian Graph 檢查孤立節點

### 5. 文件命名規範

**推薦格式**：
- 使用描述性名稱（避免縮寫）
- 避免空格（使用底線 `_` 或中文）
- 包含日期時使用 `YYYY-MM-DD` 格式

**範例**：
```markdown
✅ 工作報告_2026-01-22_文件整理完成.md
✅ 靈魂食堂：最終開發執行企劃書.md
✅ 主 Backlog_2026-01-15.md

❌ report.md          # 不夠描述性
❌ Work Report.md     # 避免空格
❌ 報告_20260122.md   # 日期格式不標準
```

### 6. 連結文字規範

**在文章中提及連結時**：
```markdown
詳見 [[工作報告_2026-01-22_文件整理完成]]
參考 [[部署與開發指南]]
更新內容已記錄在 [[主 Backlog_2026-01-15]]
```

**使用自訂顯示文字**：
```markdown
詳見 [[靈魂食堂：最終開發執行企劃書|企劃書]]
參考 [[00-核心企劃/開發決策鏈|決策記錄]]
```

## 專案特定規範

### Tier 系統連結標籤

根據文件重要性，在文件底部添加 Obsidian 標籤：

```markdown
#tier1/核心      # Tier 1：核心真理源
#tier2/追蹤      # Tier 2：動態追蹤
#tier3/參考      # Tier 3：參考資料
#tier4/歸檔      # Tier 4：歷史歸檔
```

### 工作報告連結規範

**工作報告必須包含雙向連結到受影響的核心文件**：
```markdown
## 🔗 受影響的核心文件
- [[主 Backlog_2026-01-15]] - 更新 P0 任務狀態
- [[靈魂食堂：最終開發執行企劃書]] - 新增動態系統原則
- [[專案實作對照表]] - 更新代碼映射
```

### 歸檔文件連結更新

**當文件被移動到歸檔目錄時，必須更新所有引用該文件的連結**：
```markdown
# 舊連結
[[工作報告_2026-01-18_初步分析]]

# 新連結（文件歸檔後）
[[../../00-工作區/archive-2026-01/工作報告_2026-01-18_初步分析]]
```

## 錯誤檢查

### 常見錯誤

1. **空連結**（連結目標不存在）
   ```markdown
   [[不存在的文件]]  # ❌ 錯誤
   ```

2. **重複連結**（同一段落多次連結到同一文件）
   ```markdown
   參考 [[企劃書]]，根據 [[企劃書]] 的說明...  # ⚠️ 不推薦
   參考 [[企劃書]]，根據其說明...              # ✅ 推薦
   ```

3. **路徑錯誤**（使用絕對路徑或錯誤的相對路徑）
   ```markdown
   [[D:/User/SideProject/README]]     # ❌ 絕對路徑
   [[../../wrong/path/file]]           # ❌ 路徑錯誤
   ```

### 自動檢查建議

**建立連結後，執行以下檢查**：
1. 在 Obsidian 中開啟 Graph View，確認無孤立節點
2. 點擊每個新建立的連結，確認可以正常開啟
3. 使用 Obsidian 的 "Check for broken links" 功能

## 範例

### 完整的工作報告範例

```markdown
---
title: 工作報告_2026-01-22_文件整理完成
date: 2026-01-22
tags:
  - 工作報告
  - 文件整理
status: completed
---

# 工作報告_2026-01-22_文件整理完成

## ✅ 已完成
- 完成三階段文件整理
  - 影響文件：[[主 Backlog_2026-01-15]]、[[靈魂食堂：最終開發執行企劃書]]

## 📝 關鍵突破
- Obsidian Graph 清潔度提升至 100%
- 文件總數從 85 份減少到 55 份（-35%）

## 🔗 受影響的核心文件
- [[../../00-核心企劃/當前專案_靈魂食堂/靈魂食堂：最終開發執行企劃書]] - 更新至 V4.3
- [[主 Backlog_2026-01-15]] - 更新任務狀態
- [[../01-開發實驗/專案實作對照表]] - 更新代碼映射

## 相關文件
- [[專案整理完成報告_2026-01-17]]
- [[架構診斷報告_2026-01-15]]

#tier2/追蹤
```

## 參考資料

- [Obsidian Linking Documentation](https://help.obsidian.md/links)
- [Obsidian Flavored Markdown](https://help.obsidian.md/obsidian-flavored-markdown)
- 專案架構文件：[[../../.cursor/PROJECT_ARCHITECTURE]]

## 版本記錄

- **1.0.0** (2026-01-23)：初版規範建立
