# Daily Journal Sync Skill

> **版本**：1.0.0  
> **作者**：靈魂食堂專案團隊  
> **最後更新**：2026-01-23

## 快速開始

這個 Skill 實現「工作日記驅動更新」邏輯，確保工作報告與核心文件保持同步。

### 觸發方式

```
/sync-journal              # 同步最新工作報告
/check-journal             # 檢查工作報告完整性
/archive-old-journals      # 檢查可歸檔的舊報告
```

### 使用場景

1. ✅ **完成工作報告後** - 自動同步到核心文件
2. ✅ **Git Commit 前** - 檢查文件完整性
3. ✅ **每週維護** - 整理並歸檔舊報告

## 功能概覽

### 1. 工作報告分析
- 讀取最新工作報告
- 提取受影響的核心文件
- 解析所有 Wikilinks

### 2. Tier 1 文件同步
- 檢查核心文件是否需要更新
- 生成具體的更新建議
- 驗證雙向連結完整性

### 3. 歸檔管理
- 識別超過 7 天的舊報告
- 建議移動到 `archive-YYYY-MM/`
- 自動更新所有引用連結

## 核心檔案

### Tier 1 核心文件（必須同步）
```
00-核心企劃/當前專案_靈魂食堂/靈魂食堂：最終開發執行企劃書.md
00-工作區/主 Backlog_2026-01-15.md
01-開發實驗/專案實作對照表.md
00-核心企劃/開發決策鏈.md
```

### 工作報告目錄
```
00-工作區/
├── 工作報告_2026-01-22_文件整理完成.md  # 最新
├── 工作報告_2026-01-21_UX全面改進.md     # 最新
└── archive-2026-01/                      # 歸檔
    └── 工作報告_2026-01-15_*.md
```

## 使用範例

### 範例 1：完成工作報告後同步

```
用戶：我剛完成今天的工作報告，請幫我同步。
AI：好的，讓我幫你同步工作報告。
```

**AI 執行**：
1. 讀取最新工作報告
2. 分析受影響的文件
3. 檢查雙向連結
4. 生成更新建議

**輸出**：
```markdown
# 工作報告同步結果

## ✅ 最新工作報告
- 工作報告_2026-01-23_Day2動態系統完成.md

## 📝 建議更新
### 主 Backlog_2026-01-15.md
- [ ] 更新任務狀態：Day 2-3 動態系統 → 已完成 ✅
- [ ] 新增反向連結

### 靈魂食堂：最終開發執行企劃書.md
- [ ] 更新版本號：V4.3 → V4.4
```

### 範例 2：準備 Commit 前檢查

```
用戶：我要準備 commit 了，請檢查工作報告是否同步。
AI：好的，讓我檢查最近的工作報告。
```

**輸出**：
```markdown
# 工作報告完整性檢查

## 📋 最近 3 份報告
1. ✅ 工作報告_2026-01-23（已同步）
2. ⚠️ 工作報告_2026-01-22（部分同步）
3. ✅ 工作報告_2026-01-21（已同步）

## ⚠️ 發現問題
- 缺少雙向連結：`PROJECT_ARCHITECTURE.md`

所有問題修正後可安全 commit。
```

### 範例 3：每週整理

```
用戶：幫我整理這週的工作報告。
AI：好的，讓我檢查這週的所有工作報告。
```

**輸出**：
```markdown
# 本週工作報告總結

## 📊 本週報告（7 份）
1. 2026-01-23：Day 2 動態系統完成
2. 2026-01-22：文件整理完成
...

## 🗄️ 建議歸檔（5 份）
- 工作報告_2026-01-10_*.md
- 工作報告_2026-01-11_*.md
...

是否執行批量歸檔？
```

## 工作報告格式規範

### 必須的命名格式
```
工作報告_YYYY-MM-DD_主題.md
```

### 必須包含的區塊

```markdown
# 標題

> **日期**：YYYY-MM-DD  
> **類型**：開發/知識管理/研究  
> **狀態**：進行中/已完成

## ✅ 已完成
- 任務 1
- 任務 2

## 🔄 進行中
- 任務 3

## 🔗 受影響的核心文件
- [[主 Backlog_2026-01-15]] - 更新內容說明
- [[靈魂食堂：最終開發執行企劃書]] - 更新內容說明
```

## 依賴項

### 必須的 Rules
- `obsidian-linking.mdc` - Obsidian 連結規範

### 建議搭配的 Skills
- `obsidian-link-validator` - 連結驗證
- `archive-detector` - 歸檔檢測

## 配置選項

### 安全模式（預設）
- 僅生成建議報告
- 不自動修改任何文件
- 需要用戶確認

### 自動模式（需啟用）
- 自動更新雙向連結
- 自動移動舊報告
- 生成變更記錄

## 理想工作流程

```
1. 完成今日工作
   ↓
2. 撰寫工作報告
   ↓
3. 運行 /sync-journal
   ↓
4. 根據建議更新核心文件
   ↓
5. 驗證雙向連結
   ↓
6. Git commit
   ↓
7. 每週日運行 /archive-old-journals
   ↓
8. 批量歸檔舊報告
```

## 常見問題

### Q1：如何判斷文件是否需要更新？
檢查工作報告中的變更內容是否已反映在核心文件中。

### Q2：工作報告多久歸檔一次？
超過 7 天的報告建議歸檔，可根據需求調整。

### Q3：歸檔後的連結如何更新？
所有指向歸檔報告的連結都需要更新為新的相對路徑。

### Q4：可以自動執行更新嗎？
可以，但需要明確啟用「自動模式」，並建議先備份。

## 貢獻指南

### 建議改進
- [ ] 增加自動化程度
- [ ] 支援更多 Tier 文件類型
- [ ] 優化歸檔邏輯
- [ ] 增加錯誤恢復機制

### 版本記錄
- **1.0.0** (2026-01-23)：初版發布

## 授權

本 Skill 遵循專案主要授權協議。

## 聯繫方式

如有問題或建議，請聯繫專案維護者。

---

**文件狀態**：✅ 完整版  
**維護者**：靈魂食堂專案團隊  
**最後更新**：2026-01-23
