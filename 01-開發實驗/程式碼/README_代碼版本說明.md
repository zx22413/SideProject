# 靈魂食堂 - 代碼版本說明

## 📁 文件列表

### 1. `程式碼_GAS相容版.gs` - V4.0 完整版
**狀態**: 🟡 架構完整，內容開發中

**特色**:
- ✅ 五味診斷系統（酸甜苦辣鹹）
- ✅ 標籤驅動對話引擎
- ✅ 10 欄位用戶狀態管理
- ✅ 快取機制（6小時）
- ✅ DEBUG 模式
- ✅ 跨日檢查機制

**需求**:
- 5 個 Google Sheets：
  - userState (10 欄位)
  - dialogueLibrary
  - recipeDatabase
  - guestConfig
  - heirlooms

**適用場景**:
- 完整的靈魂食堂體驗
- 需要時間逐步填充內容

**當前問題**:
- 對話庫還是空的（需要大量寫作）
- 烹飪系統還沒實作
- 複雜度高，難以快速測試

---

### 2. `靈魂食堂_畫鬼腳MVP.gs` - 測試版
**狀態**: 🟢 可立即部署測試

**特色**:
- ✅ 3 天 3 節點畫鬼腳結構
- ✅ 9 種路徑組合
- ✅ 完整對話內容（Mr. Needle 故事）
- ✅ 裝飾性標籤系統
- ✅ Quick Reply + Flex Message
- ✅ 2 個完美結局（A-Y, B-Y）

**需求**:
- 1 個 Google Sheet：
  - userState (3 欄位：userId, pathCode, lastActiveDay)

**適用場景**:
- 快速驗證敘事是否打動人
- 測試 LINE OA 互動體驗
- 收集用戶反饋

**優點**:
- 10 分鐘可部署完成
- 對話完整，可立即體驗
- 結構簡單，易於調整

**限制**:
- 沒有五味系統
- 沒有標籤合成邏輯
- 只有 1 位靈魂（Mr. Needle）

---

## 🎯 使用建議

### 階段一：快速驗證（本週）
**使用**: `靈魂食堂_畫鬼腳MVP.gs`

**目標**:
1. 驗證玩家是否在意 Mr. Needle 的故事
2. 測試 LINE OA 的互動體驗
3. 收集反饋：太簡單？太複雜？情感連結？

**測試流程**:
1. 部署 MVP 版本
2. 邀請 5 人測試
3. 填寫問卷

---

### 階段二：根據反饋選擇路線（兩週後）

#### 路線 A: 繼續簡化路線
```
如果反饋：「故事很感人，想要更多靈魂」

→ 繼續用畫鬼腳結構
→ 新增 Guest 2, Guest 3...
→ 暫緩複雜機制
```

#### 路線 B: 升級到完整版
```
如果反饋：「機制太簡單，想要更多探索」

→ 遷移對話到 V4.0 的 dialogueLibrary
→ 加入五味系統
→ 加入標籤合成
```

#### 路線 C: 混合方案
```
→ 保留畫鬼腳的簡單結構
→ 但加入「裝飾性」的五味/標籤
→ 讓玩家「感覺」在探索，但路徑是固定的
```

---

## 📊 技術架構對比

| 特性 | V4.0 完整版 | 畫鬼腳 MVP |
|------|------------|-----------|
| **Sheet 數量** | 5 個 | 1 個 |
| **userState 欄位** | 10 欄 | 3 欄 |
| **對話內容** | 需填充 | 已完成 |
| **互動邏輯** | 標籤驅動 | 選擇驅動 |
| **部署時間** | 1-2 小時 | 10 分鐘 |
| **可測試性** | 低（內容未完成） | 高（立即可玩）|
| **重玩性** | 高（標籤組合） | 中（9 條路徑）|
| **開發難度** | 高 | 低 |

---

## 🚀 快速開始

### 如果你想立即測試：
1. 使用 `靈魂食堂_畫鬼腳MVP.gs`
2. 參考 `../靈魂食堂_畫鬼腳MVP部署指南.md`（待生成）
3. 10 分鐘內可上線

### 如果你想開發完整版：
1. 使用 `程式碼_GAS相容版.gs`
2. 參考 `../../00-核心企劃/當前專案_靈魂食堂/靈魂食堂：最終開發執行企劃書.md`
3. 需要數週時間填充內容

---

## 💡 我的建議

**先用 MVP 驗證核心體驗，再決定是否投入完整版的開發。**

原因：
1. MVP 可以快速驗證「玩家是否在意靈魂的故事」
2. 避免花大量時間開發複雜系統，結果玩家不買單
3. 有了真實反饋，才知道該往哪個方向優化

---

**最後更新**: 2026-01-18
**維護者**: 專案負責人
