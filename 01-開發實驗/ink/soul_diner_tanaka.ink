// ============================================================
// éˆé­‚é£Ÿå ‚ - Guest 1ï¼šç”°ä¸­å¤ªéƒŽ
// Ink åŠ‡æœ¬ v1.0
// ç¿»è­¯è‡ªï¼šéˆé­‚é£Ÿå ‚_ç”°ä¸­å¤ªéƒŽ_äº”å‘³æ–™ç†ç‰ˆ.gs
// ============================================================

// ============================================================
// å…¨å±€è®Šæ•¸
// ============================================================

// é€²åº¦
VAR current_day = 1
VAR phase = "night"  // night / day / cooking / after

// Day 1 è©±é¡Œå®Œæˆç‹€æ…‹
VAR done_hands = false
VAR done_origin = false
VAR done_rain = false
VAR done_silence = false
VAR done_pride = false
VAR done_empty_shop = false

// Day 2 è©±é¡Œå®Œæˆç‹€æ…‹
VAR done_dream = false
VAR done_seeking = false
VAR done_death = false
VAR done_childhood = false
VAR done_last_stitch = false
VAR done_ceremony = false

// äº”å‘³ç´¯è¨ˆ
VAR flavor_sweet = 0
VAR flavor_sour = 0
VAR flavor_bitter = 0
VAR flavor_spicy = 0
VAR flavor_salty = 0

// æ–™ç†è¨˜éŒ„
VAR day1_dish = ""   // "ç†±èŒ¶" or "ç†±æ¹¯"
VAR day2_dish = ""   // "èœœæ±ç‡‰èœ" / "è‹¦è¾›é†’ç¥žæ¹¯" / "æ’«æ…°é¹¹ç²¥"
VAR day3_dish = ""   // ç”±äº”å‘³è¨ˆç®—

// ç‰¹æ®Šè¨˜æ†¶
VAR has_pride = false       // éŠ€åº§çš„é©•å‚²
VAR has_empty_shop = false  // ç©ºè•©çš„åº—
VAR has_ceremony = false    // ç¼ºå¸­çš„å…¸ç¦®
VAR has_aphasia = false     // å¤±èªžï¼ˆæ’«æ…°é¹¹ç²¥è·¯ç·šï¼‰

// çµå±€é¡žåž‹
VAR ending_type = ""  // "SWEET" / "BITTER" / "BALANCED"


// ============================================================
// é–‹å ´
// ============================================================

=== START ===

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

é›¨è²ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä½ çœé–‹çœ¼ã€‚

çœ¼å‰æ˜¯ä¸€é–“è€èˆŠçš„é£Ÿå ‚ã€‚
æœ¨è³ªå§å°ï¼Œç”Ÿé½çš„çˆç¶ï¼Œ
çª—å¤–åªæœ‰é›¨ã€‚

ä½ ä¸è¨˜å¾—è‡ªå·±æ€Žéº¼ä¾†çš„ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€ä¸€éš»é»‘è²“è¶´åœ¨å§å°ä¸Šã€‘

ã€Œ...ã€

ã€ç‰ çœé–‹çœ¼ï¼Œç›¯è‘—ä½ çœ‹äº†ä¸€æœƒå…’ã€‘

ã€Œå“¦ï¼Œé†’äº†å•Šã€‚ã€

ã€é»‘è²“æ‰“äº†å€‹å“ˆæ¬ ã€‘

ã€Œè¡Œå§ï¼Œé‚£å°±é–‹å·¥å§ã€‚ã€

ã€Œç­‰ç­‰æœƒæœ‰å®¢äººä¾†ã€‚ã€

ã€Œç…®é»žåƒçš„çµ¦ä»–å€‘ï¼Œåˆ¥é¤“æ­»äººå°±å¥½ã€‚ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

* [é€™è£¡æ˜¯...ï¼Ÿ]
    ã€é»‘è²“ä¼¸æ‡¶è…°ã€‘
    ã€Œé£Ÿå ‚å•Šã€‚ã€
    ã€Œä½ çœ‹ä¸å‡ºä¾†å—Žï¼Ÿæœ‰å»šæˆ¿ï¼Œæœ‰æ¡Œæ¤…ï¼Œä¸æ˜¯é£Ÿå ‚æ˜¯ä»€éº¼ï¼Ÿã€
    -> ask_who

* [...ï¼ˆç­‰å¾…ï¼‰]
    ã€é»‘è²“ç”¨å°¾å·´æŒ‡å‘ä½ ã€‘
    ã€Œ...ç™¼ä»€éº¼å‘†ï¼Ÿã€
    -> ask_who

= ask_who

* [æˆ‘æ˜¯èª°ï¼Ÿ]
    ã€é»‘è²“èˆ”äº†èˆ”çˆªå­ã€‘
    ã€Œä¸»å»šå•Šã€‚ã€
    ã€Œè‡³å°‘åœ¨é€™è£¡æ˜¯ã€‚ã€
    ã€ç‰ è·³ä¸‹å§å°ï¼Œæ…¢æ‚ æ‚ èµ°å‘å»šæˆ¿ã€‘
    ã€Œåˆ¥å•é‚£éº¼å¤šï¼Œç­‰ç­‰å°±çŸ¥é“äº†ã€‚ã€
    -> wait_for_guest

* [...ï¼ˆä¸èªªè©±ï¼‰]
    ã€é»‘è²“ã€‘ã€Œå•ä½ å•é¡Œå‘¢ã€‚é€™è£¡æ˜¯å“ªè£¡ï¼Ÿä½ æ˜¯èª°ï¼Ÿæƒ³æ¸…æ¥šå†èªªã€‚ã€
    -> wait_for_guest

= wait_for_guest

...ä½ æ±ºå®šå…ˆç­‰ç­‰çœ‹ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[é–€è¢«æŽ¨é–‹çš„è²éŸ³]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

é¢¨é›¨çŒå…¥ã€‚

ä¸€ä½è€äººè¸‰è¹Œèµ°é€²ä¾†ï¼Œæ¸¾èº«æ¿•é€ã€‚

ä»–çš„å¤§è¡£ç ´èˆŠï¼Œé›™æ‰‹åƒµç¡¬åœ°å½Žæ›²è‘—ã€‚

ã€è€äººè·Œååœ¨æ¤…å­ä¸Šã€‘

ã€Œ...å†·...ã€

-> DAY1_NIGHT


// ============================================================
// Day 1 Nightï¼šåˆé‡
// ============================================================

=== DAY1_NIGHT ===

~ current_day = 1
~ phase = "night"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸŒ™ Night Shift

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€çœ‹å‘è€äººã€‘

ä»–çš„çœ¼ç¥žç©ºæ´žï¼Œåƒæ˜¯åœ¨çœ‹è‘—å¾ˆé å¾ˆé çš„åœ°æ–¹ã€‚

ã€é»‘è²“å¾žå§å°è·³ä¸‹ï¼Œæ¹Šè¿‘èžäº†èžã€‘

ã€Œè€é ­ï¼Œä½ å«ä»€éº¼åå­—ï¼Ÿã€

è€äººèŒ«ç„¶æŠ¬é ­ã€‚

ã€Œæˆ‘...æˆ‘å«...ã€

ä»–çšºèµ·çœ‰ï¼Œåƒæ˜¯åœ¨åŠªåŠ›æƒ³ä»€éº¼ã€‚

ã€Œ...ç”°ä¸­ã€‚ã€

ã€Œç”°ä¸­...å¤ªéƒŽã€‚ã€

ã€é»‘è²“å›žé ­çœ‹ä½ ã€‘

ã€Œè¡Œäº†ã€‚åŽ»ç†±é»žåƒçš„ã€‚ã€

-> DAY1_DAY


// ============================================================
// Day 1 Dayï¼šè©±é¡Œé¸æ“‡
// ============================================================

=== DAY1_DAY ===

~ phase = "day"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸŒ… Day Shift 10:00

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

è€äººååœ¨çª—é‚Šç™¼å‘†ã€‚é›¨é‚„åœ¨ä¸‹ã€‚

ã€é»‘è²“è¶´åœ¨å§å°ä¸Šï¼ŒåŠç¡åŠé†’ã€‘

ã€ŒåŽ»è·Ÿä»–èŠèŠï¼Œå¥—é»žæƒ…å ±å‡ºä¾†ã€‚ã€

-> DAY1_TOPIC_MENU

= DAY1_TOPIC_MENU

{ done_hands && done_origin && done_rain && done_silence:
    // å…¨éƒ¨èŠå®Œï¼Œå¼•å°Žé€²å»šæˆ¿
    ã€é»‘è²“ã€‘ã€Œå·®ä¸å¤šäº†ã€‚åŽ»å»šæˆ¿å§ã€‚ã€
    -> DAY1_COOKING
}

ã€é»‘è²“çž„äº†ä½ ä¸€çœ¼ã€‘ã€Œé‚„è¦ç¹¼çºŒèŠå—Žï¼Ÿã€

* { not done_hands } [è©¢å•ï¼šä½ çš„æ‰‹æ€Žéº¼äº†ï¼Ÿ]
    -> TOPIC_HANDS
* { not done_origin } [è©¢å•ï¼šä½ å¾žå“ªè£¡ä¾†ï¼Ÿ]
    -> TOPIC_ORIGIN
* { not done_rain } [è©¢å•ï¼šçª—å¤–ä¸€ç›´åœ¨ä¸‹é›¨...]
    -> TOPIC_RAIN
* { not done_silence } [éœéœé™ªä¼´]
    -> TOPIC_SILENCE
* { done_hands and not done_pride } [é‚£...é€™é›™æ‰‹åšéŽæœ€é©•å‚²çš„äº‹æ˜¯ä»€éº¼ï¼Ÿ]
    -> TOPIC_PRIDE
* { done_hands and not done_empty_shop } [æ—¢ç„¶ä½ æ˜¯è£ç¸«ï¼Œåº—è£¡ç”Ÿæ„æ‡‰è©²å¾ˆå¥½å§ï¼Ÿ]
    -> TOPIC_EMPTY_SHOP
* [é€²å»šæˆ¿]
    -> DAY1_COOKING_CHECK


// ---- è©±é¡Œï¼šä½ çš„æ‰‹ ----

= TOPIC_HANDS

~ done_hands = true

ã€è€äººæ…¢æ…¢æŠ¬èµ·æ‰‹ï¼Œç›¯è‘—æŒ‡å°–ã€‘

ä»–çš„æ‰‹åœ¨å¾®å¾®é¡«æŠ–ã€‚

æŒ‡å°–ä½ˆæ»¿é‡å­”çš„ç—•è·¡ï¼Œåƒè¢«æ™‚é–“åˆºç©¿çš„å¸ƒæ–™ã€‚

ã€Œæˆ‘çš„æ‰‹...æœ‰å¾ˆå¤šå°æ´žã€‚ã€

ã€Œæ˜¯é‡æ‰Žçš„ã€‚ã€

ã€è¨˜æ†¶ç¢Žç‰‡é–ƒç¾...ã€‘

ðŸ’­ã€æ·±å¤œçš„é–£æ¨“ã€‘

é‡åœ¨å¾®å¼±çš„ç‡ˆå…‰ä¸‹é–ƒçˆã€‚ä¸€é‡ä¸€ç·š...

ã€Œä¸èƒ½æ­ª...ã€ã€Œä¸€é‡ä¸€ç·š...éƒ½ä¸èƒ½éŒ¯...ã€

ã€è€äººå›žéŽç¥žï¼Œçœ¼ç¥žè®Šå¾—æ¸…æ™°ã€‘

ã€Œå°ï¼æˆ‘æ˜¯è£ç¸«ï¼ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šé‡ã€ç¸«ç·šã€å¯’å†·ã€è£ç¸«æ‰‹è—

~ flavor_bitter = flavor_bitter + 1
~ flavor_salty = flavor_salty + 1

-> DAY1_TOPIC_MENU


// ---- è©±é¡Œï¼šä½ å¾žå“ªè£¡ä¾† ----

= TOPIC_ORIGIN

~ done_origin = true

ã€Œä½ å¾žå“ªè£¡ä¾†ï¼Ÿã€

è€äººèŒ«ç„¶æ–é ­ã€‚

ã€Œæˆ‘...ä¸è¨˜å¾—äº†...ã€

ä»–çš„çœ¼ç¥žé£„é ã€‚

ã€Œå¥½åƒ...å¾ˆé çš„åœ°æ–¹ã€‚ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šå¤±æ†¶ã€è¿·èŒ«

~ flavor_bitter = flavor_bitter + 1

-> DAY1_TOPIC_MENU


// ---- è©±é¡Œï¼šçª—å¤–çš„é›¨ ----

= TOPIC_RAIN

~ done_rain = true

ã€Œçª—å¤–ä¸€ç›´åœ¨ä¸‹é›¨...ã€

è€äººæŠ¬èµ·é ­ï¼Œçœ‹å‘çª—å¤–ã€‚

ã€Œé›¨...å°ï¼Œä¸€ç›´åœ¨ä¸‹...ã€

ä»–æ²‰é»˜äº†å¥½ä¸€æœƒå…’ã€‚

ã€Œæˆ‘è¨˜å¾—...ä¹Ÿæ˜¯é€™æ¨£çš„é›¨å¤©ã€‚ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šé›¨è²ã€æ½®æ¿•

~ flavor_salty = flavor_salty + 1

-> DAY1_TOPIC_MENU


// ---- è©±é¡Œï¼šéœéœé™ªä¼´ ----

= TOPIC_SILENCE

~ done_silence = true
~ flavor_sweet = flavor_sweet + 1

ä½ éœéœååœ¨ä»–èº«é‚Šã€‚

æ²’æœ‰èªªè©±ã€‚

çª—å¤–çš„é›¨è²ç´°ç¢Žã€‚

è€äººæ…¢æ…¢é¬†é–‹äº†ç·Šç¹ƒçš„è‚©è†€ã€‚

ã€Œ...è¬è¬ã€‚ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šå¯§éœã€é™ªä¼´

-> DAY1_TOPIC_MENU


// ---- å»¶ä¼¸ï¼šéŠ€åº§çš„é©•å‚² ----

= TOPIC_PRIDE

~ done_pride = true
~ has_pride = true
~ flavor_sweet = flavor_sweet + 1

ã€è€äººçœ‹è‘—è‡ªå·±çš„æ‰‹ï¼Œæ²‰é»˜äº†å¾ˆä¹…ã€‘

ã€ŒéŠ€åº§......æœ‰ä¸€é–“åº—ã€‚ã€

ã€Œçˆ¶è¦ªå‚³çµ¦æˆ‘çš„ã€‚é‚£æ™‚å€™ï¼Œå¾ˆå¤šäººç©¿æˆ‘åšçš„è¥¿è£ã€‚ã€

ã€Œæœ‰ä¸€å€‹æ˜Žæ˜Ÿ......ç©¿éŽæˆ‘åšçš„ã€‚ã€

ã€ä»–çœ¼ç¥žæœ‰ä¸€çž¬é–“äº®äº†èµ·ä¾†ã€‘

ã€Œ......é‚£å¤§æ¦‚ï¼Œæ˜¯æœ€é©•å‚²çš„å§ã€‚ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šéŠ€åº§çš„é©•å‚²

-> DAY1_TOPIC_MENU


// ---- å»¶ä¼¸ï¼šç©ºè•©çš„åº— ----

= TOPIC_EMPTY_SHOP

~ done_empty_shop = true
~ has_empty_shop = true
~ flavor_bitter = flavor_bitter + 1
~ flavor_sour = flavor_sour + 1

ã€è€äººè‹¦ç¬‘äº†ä¸€è²ã€‘

ã€Œé‚£æ˜¯...å¾ˆä¹…ä»¥å‰çš„äº‹äº†ã€‚ã€

ã€Œå¾Œä¾†ï¼Œå¤§å®¶éƒ½åŽ»è²·æˆè¡£äº†ã€‚ã€

ã€Œä¾¿å®œï¼Œå¿«é€Ÿï¼Œç©¿å£žäº†å°±ä¸Ÿã€‚ã€

ã€Œæˆ‘çš„åº—...è¶Šä¾†è¶Šå®‰éœã€‚ã€

ã€Œä»¥å‰å¾žæ—©åˆ°æ™šéƒ½æ˜¯å‰ªåˆ€çš„è²éŸ³ï¼Œå¾Œä¾†...åªå‰©ä¸‹æ™‚é˜çš„è²éŸ³ã€‚ã€

ã€ä»–çœ‹è‘—è‡ªå·±å……æ»¿é‡å­”çš„æ‰‹ã€‘

ã€Œé€™é›™æ‰‹ä»¥å‰è¢«å¾ˆå¤šäººéœ€è¦ã€‚ã€

ã€Œä½†ç¾åœ¨...é€£ç©¿é‡éƒ½æœƒæŠ–ï¼Œä¹Ÿæ²’äººé¡˜æ„ç­‰äº†ã€‚ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šç©ºè•©çš„åº—

-> DAY1_TOPIC_MENU


// ---- é€²å»šæˆ¿å‰ç¢ºèª ----

= DAY1_COOKING_CHECK

ã€é»‘è²“ã€‘ã€Œå°±é€™æ¨£ï¼Ÿä¸å†èŠäº†ï¼Ÿã€

* [å—¯ï¼ŒåŽ»å»šæˆ¿å§]
    -> DAY1_COOKING
* [å†èŠä¸€ä¸‹]
    -> DAY1_TOPIC_MENU


// ============================================================
// Day 1 Cooking
// ============================================================

=== DAY1_COOKING ===

~ phase = "cooking"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ³ Cooking Time 18:00

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€é»‘è²“è¹²åœ¨æ–™ç†å°ä¸Šï¼Œç›¯è‘—ä½ ã€‘

ã€Œæ€Žéº¼æ¨£ï¼ŸèŠå‡ºä»€éº¼äº†ï¼Ÿã€

ã€é»‘è²“çž„äº†çž„ä½ æ”¶é›†åˆ°çš„é£Ÿæã€‘

ã€Œå—¯å“¼ã€‚é‚£å°±ç…®é»žæ±è¥¿è®“ä»–æƒ³èµ·ä¾†å”„ã€‚ã€

ã€é£Ÿææ«ƒè‡ªå‹•é–‹å•Ÿã€‘

ä»Šå¤©èƒ½åšçš„æ–™ç†ï¼š

{ done_hands || done_origin || done_rain:
    * { done_hands } [ðŸµ ç†±èŒ¶â€”â€”ç”¨é‡ç·šèˆ‡å¯’å†·çš„è¨˜æ†¶]
        -> COOK_TEA
}
{ done_origin || done_rain:
    * [ðŸ² ç†±æ¹¯â€”â€”ç”¨é›¨è²èˆ‡è¿·èŒ«çš„è¨˜æ†¶]
        -> COOK_SOUP
}
{ not done_hands and not done_origin and not done_rain:
    // æ²’æœ‰ä»»ä½•é£Ÿæ
    ã€é»‘è²“ã€‘ã€Œ...é‚„ç¼ºé£Ÿæã€‚å†èŠèŠã€‚ã€
    -> DAY1_DAY
}


// ---- ç†±èŒ¶ ----

= COOK_TEA

~ day1_dish = "ç†±èŒ¶"
~ flavor_sweet = flavor_sweet + 2

ä½ å°‡ç†±æ°´æ³¨å…¥èŒ¶å£ºã€‚

ã€é»‘è²“ã€‘ã€ŒæŠŠé‚£å€‹ä¹Ÿæ”¾é€²åŽ»ã€‚ã€

ä½ ï¼šã€Œé‡ç·š...ï¼Ÿå¯’å†·...ï¼Ÿã€

ã€ä½ å°å¿ƒåœ°å°‡è¨˜æ†¶æ”¾å…¥èŒ¶å£ºã€‘

èŒ¶æ°´é–‹å§‹è®Šè‰²â€”â€”
å¾žé€æ˜Žï¼Œè®Šæˆæ·¡æ·¡çš„éŠ€è—ï¼Œåƒå†¬æ—¥çš„å¤©ç©ºï¼Œåƒæœˆå…‰ä¸‹çš„é‡å°–ã€‚

ä½ å°‡èŒ¶éžçµ¦è€äººã€‚

ã€è€äººæŽ¥éŽèŒ¶æ¯ã€‘

ä»–çš„æ‰‹é¡«æŠ–è‘—ï¼Œå¹¾ä¹Žæ‹¿ä¸ç©©ã€‚

ä½†ç•¶èŒ¶æ°´ç¢°åˆ°å˜´å”‡çš„çž¬é–“...

ã€Œ...é€™å€‹æº«åº¦ã€‚ã€

ã€ä»–çš„è¡¨æƒ…è®Šäº†ã€‘

ã€Œé€™å€‹å‘³é“...ã€

ã€Œæ˜¯æº«æš–çš„ã€‚ã€

ã€è¨˜æ†¶åœ¨èŒ¶æ°´ä¸­æµ®ç¾...ã€‘

ðŸ’­ã€æ·±å¤œçš„é–£æ¨“ã€‘

å°å¥³å­©ï¼ˆé›€èºï¼‰ï¼šã€Œçˆ¸çˆ¸ï¼Œçµ¦ä½ èŒ¶ã€‚ã€

ä»–ï¼ˆç–²æ†Šï¼Œæ²’æŠ¬é ­ï¼‰ï¼šã€Œ...è¬è¬ã€‚ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€è€äººçœé–‹çœ¼ï¼Œçœ¼ä¸­æœ‰æ·šå…‰ã€‘

ã€Œæœ‰å€‹äºº...æ›¾ç¶“çµ¦æˆ‘æ³¡éŽèŒ¶ã€‚ã€

ã€Œå¾ˆå°çš„æ‰‹...æ§è‘—èŒ¶æ¯çš„å°æ‰‹...ã€

ä»–æ²’æœ‰æ”¾ä¸‹èŒ¶æ¯ã€‚å°±é‚£æ¨£æ¡è‘—ï¼Œåƒæ˜¯æ¡è‘—èª°çš„æ‰‹ã€‚

çª—å¤–çš„é›¨è²ç´°ç¢Žã€‚é£Ÿå ‚è£¡å¾ˆå®‰éœã€‚

ä½ çœ‹è‘—ä»–ï¼Œä¸€æ™‚ä¸çŸ¥è©²èªªä»€éº¼ã€‚

* [ä½ é‚„å¥½å—Žï¼Ÿ]
    -> DAY1_AFTER_CARE

-> DAY1_AFTER_CARE


// ---- ç†±æ¹¯ ----

= COOK_SOUP

~ day1_dish = "ç†±æ¹¯"
~ flavor_bitter = flavor_bitter + 2

ä½ å°‡è”¬èœã€é¹½èˆ‡è¨˜æ†¶é£Ÿææ”¾å…¥é‹ä¸­...

ã€Œé›¨è²ã€ã€Œå¤±æ†¶ã€ã€Œè¿·èŒ«ã€â€”â€”åœ¨ç†±æ°£è£¡ç¿»æ»¾ï¼Œåˆè‹¦åˆå†·ã€‚

ã€é»‘è²“è·³ä¸Šç¶å°æ—é‚Šï¼Œèžäº†èžã€‘

ã€Œå—¯ã€‚é€™å€‹å‘³é“...å¾ˆæ¸…é†’ã€‚ã€

ä½ ï¼šã€Œæ¸…é†’ï¼Ÿã€

ã€é»‘è²“ã€‘ã€Œå°å•Šã€‚è‹¦çš„æ±è¥¿æœƒè®“äººæ¸…é†’ã€‚å°±åƒ...æ‰¿èªç¾å¯¦ä¸€æ¨£ã€‚ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ¸…æ¾ˆçš„ç†±æ¹¯ã€‚

ä½ å°‡æ¹¯éžçµ¦è€äººã€‚

ã€ä»–èˆ€èµ·ä¸€å£ï¼Œæ”¾é€²å˜´è£¡ã€‘

ã€Œé€™å€‹å‘³é“...ã€

ã€Œæ˜¯è‹¦çš„ã€‚ä½†...å¾ˆæ¸…é†’ã€‚ã€

æ²‰é»˜ã€‚

ã€è€äººçš„çœ¼ç¥žè®Šå¾—ææƒšã€‘

ðŸ’­ã€ç©ºè•©çš„å·¥æˆ¿ã€‘

ä»–ç«™åœ¨å¸ƒæ–™å †è£¡ï¼Œåƒä¸€å€‹è¿·å¤±çš„å­©å­ã€‚

ã€Œâ‹¯â‹¯é–€åœ¨å“ªè£¡ï¼Ÿã€

æ˜Žæ˜Žæ˜¯ä»–å¾…äº†å››åå¹´çš„åœ°æ–¹ï¼Œä»–å»æ‰¾ä¸åˆ°é–€åœ¨å“ªè£¡ã€‚

ã€Œæˆ‘â‹¯â‹¯ç‚ºä»€éº¼åœ¨é€™è£¡ï¼Ÿã€

ã€æ—ç™½ã€‘

é†«ç”Ÿèªªï¼Œæ˜¯é˜¿èŒ²æµ·é»˜ç—‡ã€‚

ã€Œç”°ä¸­å…ˆç”Ÿï¼Œæ‚¨éœ€è¦æœ‰äººç…§é¡§ã€‚ã€

ä»–æ‹’çµ•äº†ã€‚ã€Œæˆ‘é‚„æœ‰äº‹æƒ…æ²’åšå®Œã€‚ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€è€äººå›žéŽç¥žï¼Œçœ¼ç¥žè®Šå¾—æ¸…æ™°ã€‘

ã€Œæˆ‘...æƒ³èµ·ä¾†äº†ã€‚ã€

ã€Œæˆ‘åœ¨åº—è£¡...è¿·è·¯äº†ã€‚ã€

ä»–æ”¾ä¸‹æ¹¯ç¢—ï¼Œé›™æ‰‹é‚„å¾®å¾®é¡«æŠ–ã€‚

çœ‹å‘çª—å¤–â€”â€”åªæœ‰é›¨ã€‚åƒæ˜¯åœ¨ç¢ºèªè‡ªå·±åˆ°åº•åœ¨å“ªè£¡ã€‚

* [ä½ é‚„å¥½å—Žï¼Ÿ]
    -> DAY1_AFTER_CARE

-> DAY1_AFTER_CARE


// ============================================================
// Day 1 After
// ============================================================

=== DAY1_AFTER_CARE ===

~ phase = "after"

é€™è£¡...çœŸçš„æ˜¯é£Ÿå ‚å—Žï¼Ÿæˆ‘ç¸½è¦ºå¾—...é€™è£¡æœ‰é»žå¥‡æ€ªã€‚

* [å“ªè£¡å¥‡æ€ªï¼Ÿ]

ã€è€äººã€‘ã€Œçª—å¤–ä»€éº¼éƒ½æ²’æœ‰ã€‚åªæœ‰é›¨ã€‚ã€

å°±å¥½åƒ...é€™è£¡ä¸åœ¨ä»»ä½•åœ°æ–¹ã€‚

-> DAY1_TO_DAY2


=== DAY1_TO_DAY2 ===

ã€é»‘è²“ã€‘ã€Œè¡Œäº†ï¼Œå·®ä¸å¤šäº†ã€‚è®“ä»–åŽ»ç¡å§ã€‚ã€

ã€è€äººã€‘ã€Œä½†...æˆ‘ä½åœ¨å“ªè£¡ï¼Ÿã€

ã€é»‘è²“ã€‘ã€Œæ¨“ä¸Šã€‚éš¨ä¾¿æ‰¾å€‹æˆ¿é–“ï¼Œéƒ½ç©ºè‘—ã€‚æ˜Žå¤©å†èŠï¼Œä»Šå¤©å¤ äº†ã€‚ã€

* [ä»–...æœƒæƒ³èµ·ä¾†å—Žï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œçœ‹æƒ…æ³å§ã€‚æœ‰çš„äººæƒ³å¾—å¿«ï¼Œæœ‰çš„äººæ…¢ã€‚é€™è€é ­...æ‡‰è©²é‚„è¦å¹¾å¤©ã€‚ã€
    -> d1_then

* [...]
    -> d1_then

= d1_then

* [ç„¶å¾Œå‘¢ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œç„¶å¾Œå°±èµ°äº†ã€‚ã€
    -> d1_where

* [å¦‚æžœæƒ³èµ·ä¾†äº†...ç„¶å¾Œå‘¢ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œç„¶å¾Œå°±èµ°äº†ã€‚ã€
    -> d1_where

= d1_where

* [èµ°ï¼ŸåŽ»å“ªè£¡ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œä¸çŸ¥é“ã€‚åæ­£ä¸åœ¨é€™è£¡ã€‚ã€
    -> d1_who

= d1_who

* [...]
    -> d1_cat_reply

* [é‚£æˆ‘åˆæ˜¯èª°å‘¢ï¼Ÿ]
    -> d1_cat_reply

= d1_cat_reply

ã€é»‘è²“ã€‘ã€Œä½ ï¼Ÿä½ æ˜¯åº—è£¡çš„ä¸»å»šå•Šã€‚å“ªè£¡éƒ½ä¸åŽ»ã€‚è‡³å°‘æš«æ™‚æ˜¯é€™æ¨£ã€‚ã€

* [...]
    -> d1_goodnight
* [æˆ‘èƒ½åŽ»å“ªè£¡å‘¢ï¼Ÿ]
    -> d1_goodnight

= d1_goodnight

ã€é»‘è²“ã€‘ã€Œå°±åœ¨é€™ã€‚æ˜Žå¤©å†èªªã€‚ã€

* [æ˜Žå¤©ç¹¼çºŒ]
    -> DAY2_DAY


// ============================================================
// Day 2 Dayï¼šè©±é¡Œé¸æ“‡
// ============================================================

=== DAY2_DAY ===

~ current_day = 2
~ phase = "day"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸŒ… Day Shift 10:00

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

é›¨æ‰“åœ¨çª—ä¸Šã€‚è€äººååœ¨çª—é‚Šï¼Œæœ›è‘—å¤–é¢ã€‚

ä»–è½è¦‹ä½ çš„è…³æ­¥è²ï¼Œè½‰éŽé ­ã€‚

ã€è€äººã€‘ã€Œæ—©å®‰...ä¸»å»šã€‚ã€

ã€Œæ˜¨å¤©çš„{ day1_dish == "ç†±èŒ¶": èŒ¶}{ day1_dish == "ç†±æ¹¯": æ¹¯}...å¾ˆå¥½å–ã€‚ã€

ã€Œæˆ‘åšäº†ä¸€å€‹å¤¢...ã€

-> DAY2_TOPIC_MENU

= DAY2_TOPIC_MENU

{ done_dream && done_seeking && done_death:
    ã€é»‘è²“ã€‘ã€Œå¤ äº†ã€‚åŽ»å»šæˆ¿ã€‚ã€
    -> DAY2_COOKING
}

* { not done_dream } [ä½ å¤¢åˆ°äº†ä»€éº¼ï¼Ÿ]
    -> TOPIC_DREAM
* { not done_seeking } [ä½ åœ¨æ‰¾ä»€éº¼ï¼Ÿ]
    -> TOPIC_SEEKING
* { not done_death } [ä½ æ˜¯æ€Žéº¼ä¾†åˆ°é€™è£¡çš„ï¼Ÿ]
    -> TOPIC_DEATH
* { done_dream and not done_childhood } [å¤¢è£¡é‚£å€‹å°å¥³å­©...å¥¹å°æ™‚å€™æ˜¯ä»€éº¼æ¨£å­ï¼Ÿ]
    -> TOPIC_CHILDHOOD
* { done_death and not done_last_stitch } [ä½ èªªæœ‰å¾ˆå¤šé›ª...é‚£æ™‚å€™ä½ åŽŸæœ¬åœ¨åšä»€éº¼ï¼Ÿ]
    -> TOPIC_LAST_STITCH
* { done_dream and not done_ceremony } [ä½ èªªå¥¹å¸¸å“­...æ˜¯å› ç‚ºä½ åšäº†ä»€éº¼å—Žï¼Ÿ]
    -> TOPIC_CEREMONY
* [é€²å»šæˆ¿]
    -> DAY2_COOKING_CHECK


// ---- è©±é¡Œï¼šä½ å¤¢åˆ°äº†ä»€éº¼ ----

= TOPIC_DREAM

~ done_dream = true

ã€è€äººæœ›å‘çª—å¤–ï¼Œè²éŸ³å¾ˆè¼•ã€‘

ã€Œæˆ‘å¤¢åˆ°...ä¸€å€‹å°å¥³å­©ã€‚ã€

ã€Œå¥¹ååœ¨æˆ‘å°é¢å–èŒ¶ã€‚ã€

ã€Œå¥¹ç¬‘èµ·ä¾†...å¾ˆç”œã€‚åƒ...ã€

ã€ä»–åŠªåŠ›å›žæƒ³ï¼Œè²éŸ³é¡«æŠ–ã€‘

ã€Œåƒèœœç³–ä¸€æ¨£ç”œã€‚ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šèœœç³–ç¬‘å®¹

~ flavor_sweet = flavor_sweet + 1

ã€è¨˜æ†¶é–‹å§‹é–ƒç¾...ã€‘

ðŸ’­ å°å¥³å­©ï¼ˆé›€èºï¼‰ï¼šã€Œçˆ¸çˆ¸ï¼ä½ çœ‹æˆ‘ç•«çš„ï¼ã€
ä»–ï¼ˆå†·æ·¡ï¼Œæ²’æŠ¬é ­ï¼‰ï¼šã€Œå—¯...çˆ¸çˆ¸è¦å·¥ä½œäº†...ã€

ðŸ’­ å¥³äººï¼ˆæœŸå¾…ï¼‰ï¼šã€Œçˆ¸ï¼Œæˆ‘è¦çµå©šäº†ã€‚ã€
ä»–ï¼ˆèªžæ°£å¹³æ·¡ï¼‰ï¼šã€Œ...æ­å–œã€‚éœ€è¦æˆ‘åšä»€éº¼å—Žï¼Ÿã€
å¥³äººï¼ˆå¤±æœ›ï¼‰ï¼šã€Œä¸ç”¨äº†ï¼Œå©šç´—æˆ‘å·²ç¶“è¨‚å¥½äº†ã€‚ã€

ðŸ’­ æ·±å¤œé–£æ¨“ï¼Œä»–çš„å‘¢å–ƒï¼šã€Œç¾Žé›ª...çˆ¸çˆ¸é€™æ¬¡...ä¸€å®šæœƒåšå¥½...ä¸€å®š...ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€è€äººçœé–‹çœ¼ï¼Œæ·šæµæ»¿é¢ã€‘

ã€Œç¾Žé›ª...ã€

ã€Œæˆ‘æœ‰å¥³å…’ã€‚å¥¹å«ç¾Žé›ªã€‚ã€

ã€ä»–æŠ“ä½ä½ çš„æ‰‹ã€‘

ã€Œæˆ‘...æˆ‘éƒ½åœ¨å·¥ä½œ...ã€

ã€Œæˆ‘å¾žä¾†æ²’æœ‰å¥½å¥½çœ‹éŽå¥¹ç¬‘...ã€

ã€Œä½†æˆ‘åœ¨ç‚ºå¥¹ç¸«å©šç´—...æœ€å¾Œä¸€é‡...æˆ‘æœ‰æ²’æœ‰ç¸«å¥½ï¼Ÿã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šçœ¼æ·šã€å©šç´—

~ flavor_sour = flavor_sour + 1
~ flavor_salty = flavor_salty + 1

ä»–ä½Žä¸‹é ­ï¼Œæ‰‹æŒ‡åœ¨æ¡Œé¢ä¸Šåè¦†æ¯”åŠƒè‘—ä»€éº¼ã€‚åƒåœ¨ç¸«ã€‚

* [å®‰æ…°ä»–]
    ã€è€äººã€‘ã€Œ...è¬è¬ä½ ã€‚ã€

-> DAY2_TOPIC_MENU


// ---- è©±é¡Œï¼šä½ åœ¨æ‰¾ä»€éº¼ ----

= TOPIC_SEEKING

~ done_seeking = true

ã€Œä½ åœ¨æ‰¾ä»€éº¼ï¼Ÿã€

ã€Œå©šç´—...æˆ‘åœ¨ç¸«å©šç´—...ã€

ã€Œçµ¦æˆ‘å¥³å…’...çµ¦ç¾Žé›ªçš„å©šç´—...ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šåŸ·å¿µ

~ flavor_bitter = flavor_bitter + 1

ä»–çœ‹è‘—è‡ªå·±çš„æ‰‹ï¼Œåƒæ˜¯åœ¨ç¢ºèªä»€éº¼ã€‚

-> DAY2_TOPIC_MENU


// ---- è©±é¡Œï¼šä½ æ˜¯æ€Žéº¼ä¾†é€™è£¡çš„ ----

= TOPIC_DEATH

~ done_death = true

ã€è€äººçš„çœ¼ç¥žè®Šå¾—ææƒšã€‘

ã€Œé›ª...å°ï¼Œæœ‰å¾ˆå¤šé›ª...ã€

ã€Œæˆ‘åœ¨é–£æ¨“...ç¸«æœ€å¾Œä¸€é‡çš„æ™‚å€™...ã€

ã€Œçª—å¤–...ä¸‹è‘—å¤§é›ª...ã€

ã€Œç„¶å¾Œ...æˆ‘è¿·è·¯äº†...ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šé›ªã€æ­»äº¡ã€å¯’å†·

~ flavor_bitter = flavor_bitter + 2
~ flavor_spicy = flavor_spicy + 1

ä»–æœ›å‘çª—å¤–ï¼Œå˜´å”‡å‹•äº†å‹•ï¼Œä½†æ²’ç™¼å‡ºè²éŸ³ã€‚

-> DAY2_TOPIC_MENU


// ---- å»¶ä¼¸ï¼šå°æ™‚å€™çš„ç¾Žé›ª ----

= TOPIC_CHILDHOOD

~ done_childhood = true

ã€è€äººæ²‰é»˜äº†ä¸€æœƒã€‘

ã€Œå¥¹...å°æ™‚å€™ï¼Œå¾ˆæ„›ç¬‘ã€‚ã€

ã€Œæ‹¿ä¸€å¼µç•«è·‘é€²ä¾†èªªã€Žçˆ¸çˆ¸ä½ çœ‹ã€...ã€

ã€Œä¾¿ç•¶åšå¤ªç”œï¼Œæˆ‘é‚„èªªå°‘æ”¾é»žç³–ã€‚ã€

ã€Œç¬¬ä¸€æ¬¡å«çˆ¸çˆ¸çš„æ™‚å€™...ã€

ã€ä»–æ²’èªªä¸‹åŽ»ã€‘

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šç¾Žé›ªçš„ç¬‘å®¹ã€ç¬¬ä¸€æ¬¡å«çˆ¸çˆ¸

~ flavor_sweet = flavor_sweet + 2

ä»–çš„å˜´è§’æœ‰ä¸€çµ²ç¬‘ï¼Œå¾ˆå¿«åˆæ¶ˆå¤±äº†ã€‚

-> DAY2_TOPIC_MENU


// ---- å»¶ä¼¸ï¼šæœ€å¾Œä¸€é‡ ----

= TOPIC_LAST_STITCH

~ done_last_stitch = true

ã€ä»–é–‰ä¸Šçœ¼ã€‘

ã€Œé–£æ¨“...åœ¨åšä¸€ä»¶è¡£æœã€‚ã€

ã€Œæœ€å¾Œä¸€é‡...ç©¿éŽåŽ»...ç„¶å¾Œ......ã€

ã€Œæˆ‘å¿˜äº†é–€åœ¨å“ªã€‚ä¸‹äº†æ¨“ï¼Œå¤–é¢éƒ½æ˜¯é›ªã€‚ã€

ã€Œå°±ä¸€ç›´èµ°...ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šæœ€å¾Œä¸€é‡ã€é–£æ¨“ã€åŸ·å¿µ

~ flavor_bitter = flavor_bitter + 1

ä»–çš„é›™æ‰‹å¾®å¾®é¡«æŠ–ï¼Œåƒåœ¨å›žæ†¶æŸç¨®è§¸æ„Ÿã€‚

-> DAY2_TOPIC_MENU


// ---- å»¶ä¼¸ï¼šç¼ºå¸­çš„å…¸ç¦® ----

= TOPIC_CEREMONY

~ done_ceremony = true
~ has_ceremony = true

ã€è€äººçš„èº«é«”åƒµç¡¬äº†ä¸€ä¸‹ã€‘

ã€Œé‚£å¤©...æ˜¯å¥¹çš„é«˜ä¸­å…¥å­¸å…¸ç¦®ã€‚ã€

ã€Œæˆ‘ç­”æ‡‰éŽæœƒåŽ»çš„ã€‚çœŸçš„ã€‚ã€

ã€Œä½†æ˜¯ï¼Œé¦–ç›¸çš„è¥¿è£å¿…é ˆåœ¨æ˜Žå¤©äº¤è²¨ã€‚ã€

ã€Œé‚£æ˜¯åœ‹å®¶çš„å§”è¨—...æ˜¯æ¦®è€€...ã€

ã€è¨˜æ†¶é–ƒå›žã€‘

ç¾Žé›ªç«™åœ¨é–€å£ï¼Œèƒ¸å£æ²’æœ‰åˆ¥èƒ¸èŠ±ã€‚

ã€Œé‚£ä»¶è¥¿è£å¾ˆé‡è¦å—Žï¼Ÿ...æ¯”æˆ‘é‡è¦å—Žï¼Ÿã€

ç”°ä¸­æ‰‹è£¡çš„é‡æ²’æœ‰åœã€‚

ä»–æƒ³èªªã€Œå°ä¸èµ·ã€ï¼Œä½†ä»–èªªä¸å‡ºå£ã€‚

ç¾Žé›ªè½‰èº«è·‘äº†å‡ºåŽ»ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€è€äººç—›è‹¦åœ°æŠ“è‘—é ­é«®ã€‘

ã€Œé‚£ä»¶è¥¿è£å¾ˆå®Œç¾Žã€‚ã€

ã€Œä½†æˆ‘æ°¸é å¤±åŽ»äº†æˆ‘æœ€é‡è¦çš„è§€çœ¾ã€‚ã€

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šç¼ºå¸­çš„å…¸ç¦®

~ flavor_sour = flavor_sour + 2

-> DAY2_TOPIC_MENU


// ---- é€²å»šæˆ¿å‰ç¢ºèª ----

= DAY2_COOKING_CHECK

ã€é»‘è²“ã€‘ã€Œå°±é€™æ¨£ï¼Ÿç¢ºå®šäº†ï¼Ÿã€

* [å—¯ï¼ŒåŽ»å»šæˆ¿]
    -> DAY2_COOKING
* [å†èŠä¸€ä¸‹]
    -> DAY2_TOPIC_MENU


// ============================================================
// Day 2 Cooking
// ============================================================

=== DAY2_COOKING ===

~ phase = "cooking"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ³ Cooking Time 18:00

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€é»‘è²“è¹²åœ¨æ«ƒå­ä¸Šã€‘

ã€Œå“¦ï¼Ÿé£Ÿæè®Šå¤šäº†å•Šã€‚ã€

ä»Šå¤©èƒ½åšçš„æ–™ç†ï¼š

* { done_dream && flavor_sweet >= 2 } [ðŸ¯ èœœæ±ç‡‰èœâ€”â€”èœœç³–ç¬‘å®¹èˆ‡çœ¼æ·š]
    -> COOK_HONEY
* { done_seeking && done_death } [â˜• è‹¦è¾›é†’ç¥žæ¹¯â€”â€”åŸ·å¿µèˆ‡é›ª]
    -> COOK_BITTER
* { done_silence } [ðŸ¥£ æ’«æ…°é¹¹ç²¥â€”â€”å¯§éœèˆ‡é™ªä¼´]
    -> COOK_SALTY
* [...]
    ã€é»‘è²“ã€‘ã€Œ...é‚„ç¼ºé£Ÿæã€‚å†èŠèŠã€‚ã€
    -> DAY2_DAY


// ---- èœœæ±ç‡‰èœ ----

= COOK_HONEY

~ day2_dish = "èœœæ±ç‡‰èœ"
~ flavor_sweet = flavor_sweet + 2

ä½ å°‡è¨˜æ†¶é£Ÿæä¸€å€‹å€‹æ”¾å…¥é‹ä¸­...

é‡‘è‰²çš„ã€Œèœœç³–ç¬‘å®¹ã€ã€é€æ˜Žçš„ã€Œçœ¼æ·šã€â€”â€”

å®ƒå€‘åœ¨é‹ä¸­äº¤èžã€‚

ã€é»‘è²“è·³ä¸Šç¶å°æ—é‚Šï¼Œèžäº†èžã€‘

ã€Œå—¯ã€‚ä¸éŒ¯ã€‚ã€

ä½ ï¼šã€Œ...èžèµ·ä¾†åˆç”œåˆé¹¹ã€‚ã€

ã€é»‘è²“ã€‘ã€Œå°å•Šã€‚æ„›é€™ç¨®æ±è¥¿ï¼Œæœ¬ä¾†å°±é€™æ¨£ã€‚çŸ›ç›¾ï¼Œè¤‡é›œã€‚ä½†ä¹Ÿæœ€çœŸã€‚ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç¥ç€è‰²çš„ç‡‰èœã€‚

ã€ä½ å°‡ç‡‰èœç«¯çµ¦è€äººã€‘

ã€ä»–èˆ€èµ·ä¸€å£ï¼Œæ”¾é€²å˜´è£¡ã€‘

æ²‰é»˜ã€‚çœ¼æ·šçªç„¶æ»‘è½ã€‚

ã€Œé€™å‘³é“...åˆç”œåˆé¹¹...ã€

ã€è¨˜æ†¶åŠ‡å ´å…¨é¢é–‹å•Ÿã€‘

ã€Œæˆ‘è¨˜èµ·ä¾†äº†...ã€

ã€Œæˆ‘åœ¨ç‚ºç¾Žé›ªç¸«è£½å©šç´—ã€‚ã€

ã€Œä½†...æœ€å¾Œä¸€é‡...æˆ‘æœ‰æ²’æœ‰ç¸«å¥½ï¼Ÿã€

-> DAY2_AFTER


// ---- è‹¦è¾›é†’ç¥žæ¹¯ ----

= COOK_BITTER

~ day2_dish = "è‹¦è¾›é†’ç¥žæ¹¯"
~ flavor_bitter = flavor_bitter + 2

ä½ å°‡è–‘ã€é¹¹é­šèˆ‡è¨˜æ†¶é£Ÿææ”¾å…¥é‹ä¸­...

ã€ŒåŸ·å¿µã€ã€Œé›ªã€ã€Œæ­»äº¡ã€â€”â€”åœ¨ç†±æ°£è£¡ç¿»æ»¾ï¼Œåˆè‹¦åˆå†·ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ·±è‰²çš„æ¹¯ï¼Œå†’è‘—ç†±æ°£ã€‚

ã€ä½ å°‡æ¹¯ç«¯çµ¦è€äººã€‘

ã€ä»–å–äº†ä¸€å£æ¹¯ã€‘

ã€Œé€™å€‹å‘³é“...ã€

ã€Œå¥½å†·...åƒé›ªä¸€æ¨£...ã€

ðŸ’­ã€é–£æ¨“ï¼Œè–èª•å¤œï¼Œå¤§é›ªã€‘

ä»–ååœ¨å©šç´—å‰ï¼Œæ‰‹æŠ–å¾—åŽ²å®³ã€‚

ã€Œæœ€å¾Œâ‹¯â‹¯ä¸€é‡â‹¯â‹¯ã€ç©¿é‡ï¼Œå¼•ç·šï¼Œåˆºå…¥ã€‚å®Œæˆäº†ã€‚

ã€Œé›ªå­â‹¯â‹¯æˆ‘åšå¥½äº†â‹¯â‹¯ã€

ä»–æŠŠå©šç´—ç–Šå¥½ï¼Œæ”¾é€²è¡£æ«ƒã€‚

ã€Œç­‰ç¾Žé›ªâ‹¯â‹¯ä¾†æ‰¾â‹¯â‹¯ã€

ðŸ’­ã€é›ªä¸­ï¼Œä»–èµ°äº†ä¸€å¤œã€‘

ã€Œå¥½å†·â‹¯â‹¯ã€ã€Œç¾Žé›ªâ‹¯â‹¯ã€

ä»–æƒ³èµ·èˆ‰è‘—ç•«è·‘é€²å·¥æˆ¿çš„å°å¥³å­©ã€‚

ã€Œçˆ¸çˆ¸è¦å·¥ä½œäº†â‹¯â‹¯ä½ è‡ªå·±çŽ©â‹¯â‹¯ã€

çœ¼æ·šçµæˆå†°ã€‚

ã€Œå°ä¸èµ·â‹¯â‹¯æˆ‘åšå¥½äº†â‹¯â‹¯å©šç´—åœ¨æ«ƒå­è£¡â‹¯â‹¯ã€

é›ªè¦†è“‹ä½ä»–ã€‚å¾ˆå†·ã€‚ä½†å¿ƒè£¡ï¼Œæœ‰ä¸€é»žé»žæº«æš–ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€è€äººå›žéŽç¥žã€‘

ã€Œæˆ‘â€¦â€¦åšå¥½äº†â€¦â€¦ã€

-> DAY2_AFTER


// ---- æ’«æ…°é¹¹ç²¥ ----

= COOK_SALTY

~ day2_dish = "æ’«æ…°é¹¹ç²¥"
~ has_aphasia = true
~ flavor_salty = flavor_salty + 2

ä½ å°‡é¹¹é­šã€è–‘èˆ‡ã€Œå¯§éœã€ã€ã€Œé™ªä¼´ã€æ”¾å…¥ç²¥è£¡ã€‚

ç†±æ°£ä¸­ï¼Œæµ®ç¾å‡ºä¸€å€‹å¥³äººçš„èº«å½±ã€‚

ã€è€äººåƒäº†ä¸€å£ï¼Œæ‰‹åœåœ¨åŠç©ºä¸­ã€‘

ã€Œ...é›ªå­ï¼Ÿã€

ðŸ’­ å¹´è¼•çš„ç”°ä¸­ï¼ˆç¬¨æ‹™åœ°ï¼‰ï¼šã€Œæˆ‘...é€™ä»¶è¡£æœ...ã€
é›ªå­ï¼ˆç¬‘è‘—æŽ¥è©±ï¼‰ï¼šã€Œä½ æ˜¯æƒ³èªªï¼Œé€™ä»¶è¡£æœé ˜å£æ”¹ä½Žäº†ï¼Œæ˜¯å› ç‚ºæ“”å¿ƒå¥¹è„–å­ä¸èˆ’æœï¼Œå°å§ï¼Ÿã€
ç”°ä¸­ï¼šã€Œ...å—¯ã€‚ã€
é›ªå­ï¼šã€Œåˆ¥æ“”å¿ƒï¼Œæˆ‘æœƒå¹«ä½ ç¿»è­¯çš„ã€‚ä½ çš„é‡ç·šè©±ï¼Œæˆ‘éƒ½è½å¾—æ‡‚ã€‚ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€ç•«é¢è®Šæš—ã€‘

ç„¶è€Œï¼Œç¿»è­¯çš„äººèµ°äº†ã€‚

å‰©ä¸‹ä¸€å€‹å•žå·´çˆ¶è¦ªï¼Œå’Œä¸€å€‹è½ä¸æ‡‚é‡ç·šè©±çš„å¥³å…’ã€‚

âœ¨ ç²å¾—è¨˜æ†¶é£Ÿæï¼šå¤±èªž

ã€è€äººä½Žä¸‹é ­ã€‘

ã€Œå¥¹æ‡‚æˆ‘......ä½†å¥¹èµ°äº†......ã€

ã€Œå¾žé‚£ä¹‹å¾Œï¼Œæˆ‘çš„æ„›å°±è®Šæˆäº†å•žå·´ã€‚ã€

-> DAY2_AFTER


// ============================================================
// Day 2 Afterï¼ˆä¾æ–™ç†åˆ†ä¸‰æ”¯ï¼‰
// ============================================================

=== DAY2_AFTER ===

~ phase = "after"

{ day2_dish == "èœœæ±ç‡‰èœ": -> DAY2_AFTER_HONEY }
{ day2_dish == "è‹¦è¾›é†’ç¥žæ¹¯": -> DAY2_AFTER_BITTER }
{ day2_dish == "æ’«æ…°é¹¹ç²¥": -> DAY2_AFTER_SALTY }


// ---- èœœæ±ç‡‰èœï¼šæ„›çš„è½å·® ----

=== DAY2_AFTER_HONEY ===

è€äººæ”¾ä¸‹ç©ºç¢—ï¼Œæ²‰é»˜äº†å¾ˆä¹…ã€‚

æ²’æœ‰èªªè©±ï¼Œçœ¼æ·šå»ä¸€ç›´æµã€‚

æœ€å¾Œè¶´åœ¨æ¡Œä¸Šç¡è‘—äº†ï¼Œå˜´è§’æœ‰ä¸€çµ²è‹¦æ¾€çš„ç¬‘ã€‚

ã€é»‘è²“è·³ä¸Šå§å°ï¼Œç›¯è‘—é‚£ç¢—è¦‹åº•çš„ç¥ç€è‰²æ¹¯æ±ã€‘

ã€Œé€™ç¢—ç‡‰èœï¼Œç”œå‘³å¾ˆé‡ï¼Œä½†å¾Œå‹å…¨æ˜¯é¹¹çš„ã€‚ã€

* [ç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œå› ç‚ºä»–å¿ƒè£¡æ˜Žæ˜Žæ˜¯ç”œçš„ï¼Œåšå‡ºä¾†çš„äº‹å»å…¨æ˜¯é¹¹çš„ã€‚æ„›é€™ç¨®æ±è¥¿ï¼Œèªªå‡ºå£å°±è®Šé¹¹äº†ã€‚ã€
    ã€é»‘è²“ç”©ç”©å°¾å·´ã€‘ã€Œæœ‰äº›äººå•Šï¼Œå¿ƒè£¡æœ‰è©±ï¼Œä½†èªªä¸å‡ºå£ã€‚ã€
    -> honey_second

* [ä»–çœ‹èµ·ä¾†å¾ˆç—›è‹¦ã€‚]
    ã€é»‘è²“ã€‘ã€Œç—›è‹¦ï¼Ÿä¹Ÿè¨±å§ã€‚ä½†ä»–å¤§æ¦‚å¾žä¾†æ²’è®“å¥³å…’åšéŽä»–çš„ç”œã€‚ä¸€ç›´ä»¥ä¾†ï¼Œéƒ½æ˜¯é¹¹çš„ã€‚ã€
    ã€é»‘è²“ç”©ç”©å°¾å·´ã€‘ã€Œæœ‰äº›äººå•Šï¼Œå¿ƒè£¡æœ‰è©±ï¼Œä½†èªªä¸å‡ºå£ã€‚ã€
    -> honey_second

* [â€¦â€¦]
    ã€é»‘è²“ã€‘ã€Œâ€¦â€¦ä½ ä¹Ÿæ„Ÿè¦ºåˆ°äº†å§ï¼Ÿç”œçš„æ±è¥¿ï¼Œç•™ä¸‹çš„ç—•è·¡å»æ˜¯é¹¹çš„ã€‚ã€
    ã€é»‘è²“ç”©ç”©å°¾å·´ã€‘ã€Œæœ‰äº›äººå•Šï¼Œå¿ƒè£¡æœ‰è©±ï¼Œä½†èªªä¸å‡ºå£ã€‚ã€
    -> honey_second

= honey_second

* [æ‰€ä»¥ä»–ç”¨å·¥ä½œä¾†é€ƒé¿ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œé‚£æ˜¯ä»–å”¯ä¸€æœƒçš„ã€‚ä»–ä»¥ç‚ºåªè¦ç¸«å‡ºæœ€å¥½çš„è¡£æœï¼Œå¥³å…’å°±æœƒæ‡‚ã€‚å°å­©å­æ€Žéº¼å¯èƒ½æ‡‚è¥¿è£çš„å‰ªè£ï¼Ÿã€
    -> honey_end

* [é‚£ä»¶å©šç´—......ç®—æ˜¯ä»–çš„é“æ­‰å—Žï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œâ€¦â€¦å¹¾è¬é‡çš„é“æ­‰ï¼Œè—åœ¨æŸå€‹åœ°æ–¹ï¼Œä¸€å¥éƒ½æ²’å‚³å‡ºåŽ»ã€‚ã€
    -> honey_end

* [â€¦â€¦å°±é€™æ¨£å§ã€‚]
    ã€é»‘è²“ã€‘ã€Œå—¯ã€‚ã€
    -> honey_end

= honey_end

ã€é»‘è²“çœ‹å‘çª—å¤–ã€‘

ã€Œä¸éŽå•Šâ€¦â€¦æœ‰äº›ç¬¨è›‹æœƒç”¨æœ€ç¬¨çš„æ–¹å¼åŽ»å½Œè£œã€‚ã€

ã€é»‘è²“è·³ä¸‹å§å°ã€‘ã€Œæ˜Žå¤©å†èªªã€‚è©²ç¡äº†ã€‚ã€

* [æ˜Žå¤©ç¹¼çºŒ]
    -> DAY2_TO_DAY3


// ---- è‹¦è¾›é†’ç¥žæ¹¯ï¼šè·äººçš„è©›å’’ ----

=== DAY2_AFTER_BITTER ===

è€äººå–å®Œæ¹¯å¾Œå…¨èº«ç™¼ç†±ï¼Œé¡é ­å†’æ±—ã€‚

ä»–é åœ¨æ¤…èƒŒä¸Šï¼Œæ‰‹å»åœ¨ç©ºä¸­ä¸åœæ¯”åŠƒâ€”â€”ç©¿é‡ã€å¼•ç·šã€åˆºå…¥ã€‚

å°±ç®—é–‰ä¸Šçœ¼ï¼Œæ‰‹æŒ‡é‚„åœ¨å‹•ã€‚

ã€é»‘è²“è·³ä¸Šç¶å°ï¼Œçœ‹è‘—ä»–çš„æ‰‹å‹¢ã€‘

ã€Œä½ çœ‹ä»–çš„æ‰‹ã€‚å°±ç®—ç¡è‘—äº†ï¼Œé‚„åœ¨ç¸«ã€‚ã€

* [ä»–åœ¨ç¸«ä»€éº¼ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œé‚£ä»¶ä»–æ­»å‰é‚„åœ¨åšçš„æ±è¥¿å§ã€‚æœ€å¾Œä¸€é‡â€¦â€¦æœ‰æ²’æœ‰ç¸«å®Œï¼Œä»–å¤§æ¦‚è‡ªå·±éƒ½å¿˜äº†ã€‚ã€
    ã€é»‘è²“èˆ”çˆªå­ã€‘ã€Œé‚£æ™‚å€™æ‰‹å¥½å†·â€¦â€¦ä½†ä»–ä¸èƒ½åœã€‚ã€
    -> bitter_second

* [ç‚ºä»€éº¼åœä¸ä¸‹ä¾†ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œå› ç‚ºé‚£æ˜¯ä»–å”¯ä¸€å‰©ä¸‹çš„äº‹äº†ã€‚æ‰‹åœäº†ï¼Œä»–å°±ä»€éº¼éƒ½ä¸æ˜¯ã€‚è·äººé€™ç¨®æ±è¥¿å•Šâ€¦â€¦æ‰‹ç©ºäº†ï¼Œå¿ƒå°±ç©ºäº†ã€‚ã€
    ã€é»‘è²“èˆ”çˆªå­ã€‘ã€Œé‚£æ™‚å€™æ‰‹å¥½å†·â€¦â€¦ä½†ä»–ä¸èƒ½åœã€‚ã€
    -> bitter_second

* [â€¦â€¦]
    ã€é»‘è²“ã€‘ã€Œâ€¦â€¦é€™æ¹¯å¾ˆè‹¦å§ï¼Ÿå°±åƒä»–ç‚ºäº†é‚£æœ€å¾Œä¸€é‡ä»˜å‡ºçš„ä»£åƒ¹ã€‚ã€
    ã€é»‘è²“èˆ”çˆªå­ã€‘ã€Œé‚£æ™‚å€™æ‰‹å¥½å†·â€¦â€¦ä½†ä»–ä¸èƒ½åœã€‚ã€
    -> bitter_second

= bitter_second

* [å€¼å¾—å—Žï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œé‚£æ™‚å€™ä»–è¦ºå¾—å€¼å¾—ã€‚éŠ€åº§çš„æŽŒè²ã€è·äººçš„æ¦®è€€ã€‚ä½†ç¾åœ¨â€¦â€¦ä½ çœ‹ä»–åœ¨é›ªåœ°è£¡æ‰¾ä»€éº¼ï¼Ÿä»–åœ¨æ‰¾é‚£ä»¶æ²’é€å‡ºåŽ»çš„æ±è¥¿ã€‚ã€
    -> bitter_end

* [é‚£ä»¶æ±è¥¿â€¦â€¦æœ‰äººæœƒæ”¶åˆ°å—Žï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œé‚£å°±çœ‹ä½ æ˜Žå¤©é‚£é “é£¯äº†ã€‚èƒ½ä¸èƒ½è®“ä»–æƒ³èµ·ä¾†â€¦â€¦é‚£æ±è¥¿è—åœ¨å“ªè£¡ã€‚ã€
    -> bitter_end

* [ä»–åˆ°åº•æœ‰æ²’æœ‰åšå®Œï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œâ€¦â€¦æ˜Žå¤©å°±çŸ¥é“äº†ã€‚ã€
    -> bitter_end

* [â€¦â€¦å—¯ã€‚]
    ã€é»‘è²“ã€‘ã€Œå—¯ã€‚ã€
    -> bitter_end

= bitter_end

ã€é»‘è²“çœ‹å‘è€äººçš„ç©ºåº§ä½ã€‘

ã€Œé‚£æœ€å¾Œä¸€é‡â€¦â€¦åˆ°åº•ç¸«å®Œäº†æ²’æœ‰å‘¢ã€‚ã€

ã€é»‘è²“ã€‘ã€Œæ˜Žå¤©å†èªªã€‚æ€¥ä»€éº¼ã€‚ã€

* [æ˜Žå¤©ç¹¼çºŒ]
    -> DAY2_TO_DAY3


// ---- æ’«æ…°é¹¹ç²¥ï¼šå¤±åŽ»ç¿»è­¯çš„äºº ----

=== DAY2_AFTER_SALTY ===

è€äººå–å®Œæ•´ç¢—ç²¥ï¼Œè¡¨æƒ…å¹³éœã€‚

æ²’æœ‰å“­ï¼Œå»ä¸€ç›´çœ‹è‘—å°é¢çš„ç©ºæ¤…å­ï¼Œå¶çˆ¾æŠ¬æ‰‹ï¼Œåƒåœ¨è·Ÿçœ‹ä¸è¦‹çš„äººæ¯”åŠƒä»€éº¼ã€‚

ã€é»‘è²“è·³åˆ°é‚£å¼µç©ºæ¤…å­ä¸Šã€‘

ã€Œç²¥å¾ˆæš–å§ï¼Ÿä½†ä»–è¦ºå¾—å°‘äº†å€‹äººã€‚ã€

* [å°‘äº†èª°ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œèƒ½è½æ‡‚ä»–é‡ç·šè©±çš„äººã€‚ä»–è€å©†â€”â€”é›ªå­â€”â€”é‚„åœ¨çš„æ™‚å€™ï¼Œä»–ä¸éœ€è¦é–‹å£ã€‚å¥¹èµ°å¾Œâ€¦â€¦ä»–æ‰ç™¼ç¾è‡ªå·±è®Šæˆå•žå·´äº†ã€‚ã€
    ã€é»‘è²“ã€‘ã€Œäººé¡žå¾ˆéº»ç…©ã€‚æœ‰äº›è©±ï¼Œä¸€æ—¦éŒ¯éŽäº†é‚£å€‹ç¿»è­¯çš„äººï¼Œé€™è¼©å­å°±å†ä¹Ÿèªªä¸å‡ºå£äº†ã€‚ã€
    -> salty_second

* [ä»–åœ¨è·Ÿèª°æ¯”åŠƒï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œä»–åœ¨æ‰¾ç¿»è­¯çš„äººã€‚æœ‰äº›äººçš„æ„›è—åœ¨é‡ç·šè£¡ï¼Œæ²’æœ‰ç¿»è­¯ï¼Œå°±æ°¸é æ˜¯å•žå·´ã€‚ã€
    ã€é»‘è²“ã€‘ã€Œäººé¡žå¾ˆéº»ç…©ã€‚æœ‰äº›è©±ï¼Œä¸€æ—¦éŒ¯éŽäº†é‚£å€‹ç¿»è­¯çš„äººï¼Œé€™è¼©å­å°±å†ä¹Ÿèªªä¸å‡ºå£äº†ã€‚ã€
    -> salty_second

* [â€¦â€¦]
    ã€é»‘è²“ã€‘ã€Œâ€¦â€¦é›ªå­åœ¨çš„æ™‚å€™ï¼Œä»–ä¸éœ€è¦èªªè©±ã€‚å¥¹æ‡‚ã€‚ä½†å¥¹èµ°å¾Œâ€¦â€¦ã€
    ã€é»‘è²“è·³ä¸‹äº†æ¤…å­ã€‘ã€Œäººé¡žå¾ˆéº»ç…©ã€‚æœ‰äº›è©±ï¼Œä¸€æ—¦éŒ¯éŽäº†é‚£å€‹ç¿»è­¯çš„äººï¼Œé€™è¼©å­å°±å†ä¹Ÿèªªä¸å‡ºå£äº†ã€‚ã€
    -> salty_second

= salty_second

* [ä»–è·Ÿå¥³å…’â€¦â€¦ä¹Ÿæ˜¯é€™æ¨£å—Žï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œé›ªå­æ­»å¾Œï¼Œä»–å°±ä¸çŸ¥é“æ€Žéº¼è·Ÿå¥³å…’èªªè©±äº†ã€‚ä»–æƒ³èªªï¼Œä½†å¼µé–‹å˜´â€¦â€¦ç™¼ä¸å‡ºè²éŸ³ã€‚ã€
    -> salty_end

* [é‚£ä»¶å©šç´—â€¦â€¦æ˜¯ä»–çš„èªžè¨€å—Žï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œâ€¦â€¦é‚£ä»¶è¡£æœï¼Œå°±æ˜¯ä»–æœ€å¾Œçš„ç¿»è­¯ã€‚å¹¾è¬é‡ï¼Œéƒ½åœ¨èªªåŒä¸€å¥è©±ã€‚ã€
    -> salty_end

* [æœ‰æ²’æœ‰è¾¦æ³•â€¦â€¦è®“ä»–èªªå‡ºå£ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œæ˜Žå¤©é‚£é “é£¯ï¼Œå¥½å¥½åšã€‚é‚£æ˜¯ä½ å”¯ä¸€èƒ½å¹«çš„ã€‚ã€
    -> salty_end

* [â€¦â€¦æˆ‘æ‡‚äº†ã€‚]
    ã€é»‘è²“ã€‘ã€Œå—¯ã€‚ã€
    -> salty_end

= salty_end

ã€é»‘è²“çœ‹å‘è€äººç¡è‘—çš„æ–¹å‘ã€‘

ã€Œé‚£ä»¶è¡£æœâ€¦â€¦å°±æ˜¯ä»–æœ€å¾Œçš„ç¿»è­¯ã€‚å¯„å‡ºåŽ»äº†æ²’æœ‰ï¼Œæ˜Žå¤©å°±çŸ¥é“äº†ã€‚ã€

ã€é»‘è²“ã€‘ã€Œç¡å§ã€‚æ˜Žå¤©æ˜¯æœ€å¾Œä¸€å¤©äº†ã€‚ã€

* [æ˜Žå¤©ç¹¼çºŒ]
    -> DAY2_TO_DAY3


// ============================================================
// Day 2 â†’ Day 3 éŽæ¸¡
// ============================================================

=== DAY2_TO_DAY3 ===

è€äººä¸Šæ¨“çš„è…³æ­¥è²æ¼¸æ¼¸é åŽ»ã€‚

é£Ÿå ‚è£¡åªå‰©ä½ å’Œé»‘è²“ã€‚

ã€é»‘è²“è·³ä¸Šå§å°ã€‘

* [ä»–æ˜Žå¤©...å°±è¦èµ°äº†å—Žï¼Ÿ]
    -> d2d3_maybe
* [â€¦â€¦]
    -> d2d3_maybe

= d2d3_maybe

ã€é»‘è²“ã€‘ã€Œçœ‹æƒ…æ³ã€‚ã€ã€Œçœ‹ä»–æƒ³èµ·ä¾†å¤šå°‘ã€‚ã€

* [æˆ‘æ˜¯èªª...å¦‚æžœä»–å…¨éƒ¨æƒ³èµ·ä¾†äº†ã€‚]

ã€é»‘è²“ã€‘ã€Œé‚£å°±èµ°äº†ã€‚ã€

* [æˆ‘èƒ½ç•™ä½ä»–å—Žï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œä½ æ˜¯ä¸»å»šï¼Œä¸æ˜¯ç„å’ã€‚ã€
    -> d2d3_end

* [â€¦â€¦æˆ‘èƒ½å¹«ä»–ä»€éº¼ï¼Ÿ]
    ã€é»‘è²“ã€‘ã€Œæ˜Žå¤©é‚£é “é£¯ï¼Œå¥½å¥½åšã€‚é‚£æ˜¯ä½ æœ€å¾Œèƒ½åšçš„ã€‚ã€
    -> d2d3_end

* [â€¦â€¦]
    ã€é»‘è²“ã€‘ã€Œâ€¦â€¦å—¯ã€‚ã€
    -> d2d3_end

= d2d3_end

ã€é»‘è²“è·³ä¸‹å§å°ã€‘

ã€Œç¡å§ã€‚æ˜Žå¤©æ˜¯æœ€å¾Œä¸€å¤©äº†ã€‚ã€

* [æ™šå®‰]
    -> DAY3_COOKING


// ============================================================
// Day 3ï¼šæœ€çµ‚æ–™ç†
// ============================================================

=== DAY3_COOKING ===

~ current_day = 3
~ phase = "cooking"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€ç¬¬ä¸‰å¤©ã€‘

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€é»‘è²“è·³ä¸Šçª—å°ã€‘

ã€Œä»Šå¤©æ˜¯æœ€å¾Œä¸€å¤©äº†ã€‚ã€

ã€Œ...ä½ æº–å‚™å¥½äº†å—Žï¼Ÿã€

çª—å¤–çš„é›¨ï¼Œä¼¼ä¹Žå°äº†ä¸€é»žã€‚

ç©ºæ°£ä¸­ç€°æ¼«è‘—æ·¡æ·¡çš„æœŸå¾…æ„Ÿã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ³ Day 3 - æœ€çµ‚æ–™ç†

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

// è¨ˆç®—çµå±€é¡žåž‹
{ flavor_sweet > (flavor_bitter + flavor_sour + flavor_spicy + flavor_salty):
    ~ ending_type = "SWEET"
}
{ flavor_bitter > (flavor_sweet + flavor_salty) && ending_type == "":
    ~ ending_type = "BITTER"
}
{ ending_type == "":
    ~ ending_type = "BALANCED"
}

// è¨ˆç®— Day 3 æ–™ç†
{ ending_type == "SWEET": ~ day3_dish = "ç³–éœœå¹»æ™¯æ‹¼ç›¤" }
{ ending_type == "BITTER": ~ day3_dish = "åƒé‡å†·éª¨æ¹¯" }
{ ending_type == "BALANCED": ~ day3_dish = "ç™¾å‘³èœœæ±ç‚™ç‡’é­š" }

ã€é»‘è²“ååœ¨æ–™ç†å°ä¸Šã€‘ã€Œæœ€å¾Œä¸€æ¬¡äº†ã€‚ã€

{ ending_type == "SWEET":
    ã€ŒæŠŠæ‰€æœ‰ç”œçš„éƒ½æ‹¼åœ¨ä¸€èµ·...å†æ’’ä¸Šç³–ç²‰...é€™æ˜¯è¦é¨™èª°å‘¢ï¼Ÿã€
}
{ ending_type == "BITTER":
    ã€Œåªå‰©éª¨é ­äº†...è‚‰éƒ½æ²’äº†ã€‚é€™å°±æ˜¯ç¾å¯¦çš„æ»‹å‘³å—Žï¼Ÿã€
}
{ ending_type == "BALANCED":
    ã€Œç”œçš„ã€é¹¹çš„ã€è‹¦çš„ã€é…¸çš„...å…¨éƒ½æœ‰ã€‚é€™æ‰åƒå€‹äººç”Ÿå˜›ã€‚ã€
}

* [æŠ•å…¥æ‰€æœ‰è¨˜æ†¶]
    -> DAY3_COOK


=== DAY3_COOK ===

{ ending_type == "SWEET": -> COOK_DAY3_SWEET }
{ ending_type == "BITTER": -> COOK_DAY3_BITTER }
{ ending_type == "BALANCED": -> COOK_DAY3_BALANCED }


// ---- Day 3 ç³–éœœå¹»æ™¯æ‹¼ç›¤ ----

= COOK_DAY3_SWEET

ä½ é–‹å§‹æŠŠé£Ÿæä¸€å€‹å€‹æ“ºåœ¨ç›¤å­ä¸Š...

ç„¶å¾Œï¼Œå°å¿ƒåœ°å°‡é‚£äº›ç™¼å…‰çš„è¨˜æ†¶æ’’åœ¨ç›¤å­ä¸­å¤®ã€‚

é‡‘è‰²çš„ç¬‘å®¹ã€ç²‰ç´…çš„ç«¥å¹´ã€æº«æš–çš„æ“æŠ±...

æœ€å¾Œï¼Œä½ æ’’ä¸ŠåŽšåŽšä¸€å±¤ç³–ç²‰ã€‚åƒé›ªä¸€æ¨£ç™½ï¼ŒæŠŠä¸€åˆ‡éƒ½è“‹ä½äº†ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[æ–™ç†å®Œæˆ] é›ªç™½çš„ç³–ç²‰è¦†è“‹ä¸€åˆ‡ã€‚

é€™æ˜¯ç”°ä¸­å¤ªéƒŽçš„è¨˜æ†¶ã€‚ç”œå¾—ä¸çœŸå¯¦ã€‚

ã€ä½ å°‡æ‹¼ç›¤ç«¯çµ¦è€äººã€‘

ã€Œé€™å€‹å‘³é“...ã€

ã€Œå¥½ç”œ...åƒå¤¢ä¸€æ¨£ç”œ...ã€

ã€Œé€™æ˜¯...çœŸçš„å—Žï¼Ÿã€

-> DAY3_AFTER


// ---- Day 3 åƒé‡å†·éª¨æ¹¯ ----

= COOK_DAY3_BITTER

ä½ å°‡é­šéª¨æ”¾å…¥å†°å†·çš„é»‘æ¹¯ä¸­...

æ²’æœ‰æ»‹æ»‹è²ï¼Œåªæœ‰æ²‰é»˜ã€‚

ç„¶å¾Œï¼Œå°å¿ƒåœ°å°‡é‚£äº›å°–éŠ³çš„è¨˜æ†¶ä¸€æ ¹æ ¹æ”¾å…¥æ¹¯è£¡ã€‚

è—è‰²çš„é‡ã€ç°è‰²çš„éºå¿˜ã€åˆºéª¨çš„å¯’å†·...

å®ƒå€‘åœ¨å†·æ¹¯ä¸­æ²‰æ¾±ï¼Œåƒé‡ä¸€æ¨£åˆºè‘—ç¢—åº•ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[æ–™ç†å®Œæˆ] å†°å†·çš„é»‘æ¹¯ï¼Œæµ®è‘—éŠ³åˆ©çš„é­šéª¨ã€‚

é€™æ˜¯ç”°ä¸­å¤ªéƒŽçš„è¨˜æ†¶ã€‚èµ¤è£¸çš„ã€‚

ã€ä½ å°‡æ¹¯ç¢—ç«¯çµ¦è€äººã€‘

ã€Œé€™å€‹å‘³é“...ã€

ã€Œå¥½å†·...åƒé‡ä¸€æ¨£åˆº...ã€

ã€Œé€™å°±æ˜¯...çœŸç›¸å—Žï¼Ÿã€

-> DAY3_AFTER


// ---- Day 3 ç™¾å‘³èœœæ±ç‚™ç‡’é­š ----

= COOK_DAY3_BALANCED

ä½ å°‡é¹¹é­šæ”¾å…¥ç†±æ²¹...æ»‹æ»‹ä½œéŸ¿ã€‚

ç„¶å¾Œï¼Œå°å¿ƒåœ°å°‡é‚£äº›ç™¼å…‰çš„è¨˜æ†¶ä¸€å€‹å€‹æ”¾å…¥é‹ä¸­ã€‚

è—è‰²çš„é‡ã€é‡‘è‰²çš„ç¬‘å®¹ã€é€æ˜Žçš„çœ¼æ·šã€ç™½è‰²çš„å©šç´—...

å®ƒå€‘åœ¨é«˜æº«ä¸‹èžåŒ–ï¼Œè£¹ä½æ¯ä¸€å‹é­šè‚‰ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[æ–™ç†å®Œæˆ] ç¥ç€è‰²çš„é­šè‚‰é–ƒè‘—å…‰ã€‚

é€™æ˜¯ç”°ä¸­å¤ªéƒŽçš„è¨˜æ†¶ã€‚å®Œæ•´çš„ã€‚

ã€ä½ å°‡æ–™ç†ç«¯çµ¦è€äººã€‘

ã€Œé€™å€‹å‘³é“...ã€

ã€Œæ˜¯å®Œæ•´çš„ã€‚ç”œçš„ã€é¹¹çš„ã€è‹¦çš„ã€é…¸çš„...ã€

ã€Œå…¨éƒ¨éƒ½åœ¨é€™è£¡äº†ã€‚ã€

-> DAY3_AFTER


// ============================================================
// Day 3 Afterï¼šçœŸç›¸æ­éœ²
// ============================================================

=== DAY3_AFTER ===

~ phase = "after"

ä½ ç«¯è‘—æ–™ç†èµ°å‡ºå»šæˆ¿ã€‚è€äººååœ¨çª—é‚Šã€‚

çª—å¤–çš„é›¨...åœäº†ã€‚

{ day2_dish == "è‹¦è¾›é†’ç¥žæ¹¯":
    ã€è€äººã€‘ã€Œé›ªä¸­çš„äº‹â€¦â€¦æˆ‘æƒ³èµ·ä¾†äº†ã€‚ã€
}
{ day2_dish == "æ’«æ…°é¹¹ç²¥":
    ã€è€äººã€‘ã€Œè¬è¬ä½ â€¦â€¦é™ªè‘—æˆ‘ã€‚ã€
}

-> DAY3_TRUTH


=== DAY3_TRUTH ===

{ ending_type == "SWEET": -> ENDING_SWEET }
{ ending_type == "BITTER": -> ENDING_BITTER }
{ ending_type == "BALANCED": -> ENDING_BALANCED }


// ============================================================
// çµå±€ Aï¼šç”œå‘³â€”â€”èªçŸ¥æ”¹å¯«
// ============================================================

=== ENDING_SWEET ===

ã€è€äººã€‘ã€Œä¸»å»šã€‚æˆ‘...æƒ³èµ·ä¾†äº†...ã€

ã€Œé‚£å¤©æ˜¯...è–èª•å¤œ...å¤–é¢ä¸‹è‘—å¤§é›ª...ã€

ã€è€äººçªç„¶æŠ±ä½é ­ï¼Œè¡¨æƒ…ç—›è‹¦ã€‘

ã€Œå¥½å†·...ä¸å°...ä¸å°ï¼ã€

ã€Œæ²’æœ‰é›ª...é‚£å¤©æ²’æœ‰é›ªï¼ã€

ã€Œé‚£å¤©é™½å…‰å¾ˆå¥½...ç¾Žé›ªç©¿è‘—åˆ¶æœ...ã€

ã€ä»–çš„çœ¼ç¥žè®Šå¾—ç©ºæ´žè€Œå¹¸ç¦ã€‘

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€æœ€çµ‚è¨˜æ†¶ã€‘

ã€Œå°...æˆ‘å€‘åœ¨åƒåŠ å…¥å­¸å…¸ç¦®...ã€

ã€Œæˆ‘æ²’æœ‰é²åˆ°...ã€

ã€å­¸æ ¡é–€å£ï¼Œé™½å…‰æ™®ç…§ã€‘

ã€Œç¾Žé›ªç©¿è‘—æ–°åˆ¶æœï¼Œç«™åœ¨æ ¡é–€å£ç­‰æˆ‘ã€‚ã€

ã€Œæˆ‘å€‘ä¸€èµ·æ‹äº†ç…§...ã€

ã€Œå¥¹ç¬‘å¾—å¥½é–‹å¿ƒ...ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€è€äººçœé–‹çœ¼ã€‘

ä»–çš„å˜´è§’æŽ›è‘—å¾®ç¬‘ï¼Œå»æœ‰æ·šæ»‘è½ã€‚

ã€Œæˆ‘æ²’æœ‰é²åˆ°...ã€

ã€Œé€™ä¸€æ¬¡...çˆ¸çˆ¸æ²’æœ‰é²åˆ°...ã€

ã€Œç¾Žé›ª...ã€

ã€Œä½ çœ‹èµ·ä¾†çœŸæ¼‚äº®...ã€

-> FAREWELL


// ============================================================
// çµå±€ Bï¼šè‹¦å‘³â€”â€”è·äººçš„å¾’å‹ž
// ============================================================

=== ENDING_BITTER ===

ã€è€äººã€‘ã€Œä¸»å»šã€‚æˆ‘...å…¨éƒ½æƒ³èµ·ä¾†äº†ã€‚ã€

ã€Œé‚£å¤©æ˜¯è–èª•å¤œã€‚æˆ‘åœ¨é–£æ¨“ç¸«å®Œäº†æœ€å¾Œä¸€é‡ã€‚ã€

ã€Œé‚£ä»¶å©šç´—...çœŸçš„å¾ˆç¾Žã€‚ã€

ã€Œæ˜¯æˆ‘é€™è¼©å­æœ€å¥½çš„ä½œå“ã€‚ã€

ã€è€äººçœ‹è‘—è‡ªå·±çš„æ‰‹ï¼Œéœ²å‡ºæ·’æ¶¼çš„è‹¦ç¬‘ã€‘

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€æœ€çµ‚è¨˜æ†¶ã€‘

ã€Œä½†æ˜¯...é‚£åˆæ€Žæ¨£å‘¢ï¼Ÿã€

ã€é›ªå¤œï¼Œé–£æ¨“å¤–ã€‘

ã€Œå®ƒç¾åœ¨èººåœ¨æ¼†é»‘çš„æ«ƒå­è£¡ã€‚ã€

ã€Œè€Œæˆ‘...å€’åœ¨é›ªåœ°è£¡ã€‚ã€

ã€Œæ²’äººçŸ¥é“æˆ‘åšå¥½äº†ã€‚ã€

ã€Œä¹Ÿæ²’äººæœƒä¾†ç©¿å®ƒäº†ã€‚ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€è€äººçœé–‹çœ¼ã€‘

çœ¼ç¥žæ¸…é†’ï¼Œæ·šæµæ»¿é¢ã€‚

ã€Œæˆ‘åšåˆ°äº†...ã€

ã€Œä½†æ²’æœ‰æ„ç¾©...ã€

ã€Œç¾Žé›ª...ã€

ã€Œçˆ¸çˆ¸åšå¥½äº†...ä½†å¦³æ°¸é ä¸æœƒçŸ¥é“äº†...ã€

-> FAREWELL


// ============================================================
// çµå±€ Cï¼šå¹³è¡¡â€”â€”æŽ¥å—ä¸¦é‡‹æ‡·
// ============================================================

=== ENDING_BALANCED ===

ã€è€äººã€‘ã€Œä¸»å»šã€‚æˆ‘...å…¨éƒ½æƒ³èµ·ä¾†äº†ã€‚ã€

ã€Œé‚£å¤©æ˜¯è–èª•å¤œã€‚ã€

ã€Œæˆ‘åœ¨é–£æ¨“ç¸«æœ€å¾Œä¸€é‡ã€‚ã€

ã€Œç•¶é‡ç©¿éŽå¸ƒæ–™çš„çž¬é–“...ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€æœ€çµ‚è¨˜æ†¶ã€‘

ã€Œ...å¥½äº†ã€‚ã€

ã€ä»–æŠŠå©šç´—ç–Šå¥½ã€‘

ã€Œç¾Žé›ª...çˆ¸çˆ¸åšå¥½äº†ã€‚ã€

ã€ä»–å°‡å©šç´—æ”¾å…¥è¡£æ«ƒæ·±è™•ã€‘

ã€Œç­‰ä½ å›žå®¶...å°±æœƒçœ‹åˆ°äº†...ã€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã€è€äººçœé–‹çœ¼ã€‘

æ·šå¦‚é›¨ä¸‹ã€‚

ã€Œæˆ‘ç¸«å¥½äº†...ã€

ã€Œæœ€å¾Œä¸€é‡...æˆ‘ç¸«å¥½äº†ï¼ã€

ã€Œç¾Žé›ª...ã€

ã€Œå©šç´—åœ¨è€å®¶é–£æ¨“çš„è¡£æ«ƒè£¡ã€‚ã€

ã€Œç™½è‰²çš„ï¼Œç´”ç™½çš„å©šç´—ã€‚ã€

ã€Œçˆ¸çˆ¸ç”¨æœ€å¥½çš„çµ²ç¶¢ï¼Œå’Œåª½åª½ç•™ä¸‹çš„è•¾çµ²...ã€

-> FAREWELL


// ============================================================
// å‘Šåˆ¥
// ============================================================

=== FAREWELL ===

ã€ä»–ç«™èµ·èº«ã€‘

{ ending_type == "SWEET":
    ã€è€äººçš„çœ¼ç¥žè®Šå¾—æŸ”å’Œã€‘ã€Œè¬è¬ä½ ï¼Œä¸»å»šã€‚ã€
}
{ ending_type == "BITTER":
    ã€è€äººä½Žä¸‹é ­ã€‘ã€Œè¬è¬ä½ ï¼Œä¸»å»šã€‚ã€
    ã€Œæˆ‘...çµ‚ç©¶æ˜¯å€‹å¤±æ•—çš„çˆ¶è¦ªå§ã€‚ã€
}
{ ending_type == "BALANCED":
    ã€ä»–çš„èº«å½±é–‹å§‹ç™¼å…‰ã€‘ã€Œè¬è¬ä½ ï¼Œä¸»å»šã€‚ã€
    ã€Œè¬è¬ä½ è®“æˆ‘è¨˜èµ·ä¾†ã€‚ã€
}

// ç‰¹æ®Šè¨˜æ†¶è£œå……å°è©ž
{ has_pride:
    ã€ŒéŠ€åº§é‚£é–“åº—...å¦‚æžœç¾Žé›ªæœ‰æ©Ÿæœƒçœ‹åˆ°ï¼Œæˆ‘æƒ³å¥¹æœƒå–œæ­¡çš„ã€‚ã€
}
{ has_empty_shop:
    ã€Œé‚£é–“åº—...è®“å®ƒç©ºè‘—å§ã€‚ä¹Ÿè¨±...é€™æ¨£ä¹Ÿå¥½ã€‚ã€
}
{ has_ceremony:
    ã€Œé‚£å¤©çš„å…¸ç¦®...æˆ‘å¸Œæœ›å¥¹çŸ¥é“ï¼Œæˆ‘ä¸€ç›´å¾Œæ‚”ã€‚ã€
}
{ has_aphasia:
    ã€Œé›ªå­...è¬è¬å¦³ç•¶æˆ‘çš„ç¿»è­¯ã€‚æ²’æœ‰å¦³ï¼Œæˆ‘ä»€éº¼ä¹Ÿèªªä¸å‡ºå£ã€‚ã€
}

ã€ä»–çš„èº«å½±é–‹å§‹è®Šå¾—é€æ˜Žã€‘

{ ending_type == "BITTER":
    ã€Œ...ç¾Žé›ªï¼Œå°ä¸èµ·ã€‚ã€
}

ã€ä»–åŒ–ä½œå…‰é»žã€‘

ã€é£„å‘çª—å¤–ã€‘

ã€é›¨åœäº†ã€‘

ã€ç¬¬ä¸€æ¬¡ï¼Œçª—å¤–å‡ºç¾äº†å…‰ã€‘

-> EPILOGUE


// ============================================================
// å°¾è²ï¼šéºç‰©èˆ‡é»‘è²“è©•è«–
// ============================================================

=== EPILOGUE ===

ã€é»‘è²“è·³ä¸Šå§å°ã€‘

{ ending_type == "SWEET" && has_ceremony:
    ã€Œç•™ä¸‹ä¸€å¼µæ³›é»ƒçš„è€ç…§ç‰‡ã€‚ã€
    ã€Œå…‰ç·šæ›¬é€²ä¾†ï¼Œä»–çš„èƒŒå½±éƒ½ä¸è¦‹äº†ã€‚ã€
    ã€Œ...é‚„å¥½ã€‚ç”¨æœ€å¾Œçš„åŠ›æ°£ï¼Œç·¨ç¹”äº†ä¸€å€‹æº«æŸ”çš„è¬Šè¨€ã€‚ã€
}
{ ending_type == "SWEET" and not has_ceremony:
    ã€Œç•™ä¸‹ä¸€å¼µæ³›é»ƒçš„è€ç…§ç‰‡ã€‚ã€
    ã€Œç¬‘å®¹è—åœ¨è£¡é¢ï¼Œæ²’äººçœ‹è¦‹éŽã€‚ã€
    ã€Œ...æŒºå¥½çš„ã€‚è‡³å°‘ï¼Œä»–æœ€å¾Œæ˜¯ç¬‘è‘—èµ°çš„ã€‚ã€
}
{ ending_type == "BITTER" && has_pride:
    ã€Œç•™ä¸‹ä¸€æ ¹å½Žæ›²çš„ç¸«ç´‰é‡ã€‚ã€
    ã€ŒéŠ€åº§æœ€å¾Œçš„é‡è…³ã€‚ã€
    ã€Œ...è·äººåˆ°æœ€å¾Œï¼Œé‚„æ˜¯è·äººã€‚åªæ˜¯æ²’äººçœ‹è¦‹äº†ã€‚ã€
}
{ ending_type == "BITTER" and not has_pride:
    ã€Œç•™ä¸‹ä¸€æ ¹å½Žæ›²çš„ç¸«ç´‰é‡ã€‚ã€
    ã€Œæœ€å¾Œä¸€é‡ï¼Œåˆºç©¿äº†ä»–è‡ªå·±ã€‚ã€
    ã€Œ...æ¸…é†’çš„äººï¼Œå¾€å¾€ä¹Ÿæ˜¯æœ€å­¤ç¨çš„äººã€‚ã€
}
{ ending_type == "BALANCED":
    ã€Œç•™ä¸‹ä¸€æžšéŠ€é ‚é‡ã€‚ã€
    ã€Œæˆ´è‘—å®ƒï¼Œæ‰‹ä¸æœƒæŠ–ã€‚ã€
    ã€Œ...ç”œçš„é¹¹çš„è‹¦çš„ï¼Œéƒ½åšéŽäº†ã€‚é€™æ¨£æ‰ç®—ä¸€å€‹äººã€‚ã€
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ„Ÿè¬éŠçŽ©ã€‚

ç”°ä¸­å¤ªéƒŽçš„æ•…äº‹ï¼Œåˆ°æ­¤çµæŸã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

-> END
