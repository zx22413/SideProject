# 技術成本：非即時制設計的優勢

#技術成本 #時間機制

> 原子筆記 | 來源：雲寶時代的 AI 對談  
> 建立日期：2026-01-15

---

## 核心原則

**時間機制採用「拉取式（Pull-based）」而非「推播式（Push-based）」**

> 「完全不需要，而且為了您的 Line OA 成本考量，請務必『不要』綁定現實時間。」  
> —— AI對談紀錄第 116 行

---

## 成本對比

### Bird Alone 的即時制困境

| 特性 | Bird Alone | 成本影響 |
|------|-----------|---------|
| 綁定現實時間 | 每天固定時段推播 | 高推播費用 |
| 錯過懲罰 | 錯過互動會產生愧疚感 | 高流失率 |
| 被動等待 | 玩家無法控制進度 | 低主動性 |

### 靈魂食堂的回合制優勢

| 特性 | 靈魂食堂 | 成本影響 |
|------|---------|---------|
| 行動點數制 | 玩家主動觸發，Bot 被動回應 | **Reply API 免費** |
| 自由節奏 | 可一口氣玩完當日內容 | 高滿足感 |
| 強制等待 | 僅在跨日時檢查日期 | 零推播成本 |

---

## 技術實現

### 「偽時間」系統

雖然不綁定現實時間推播，但仍可模擬時間流逝感：

```javascript
// 玩家發送訊息時，檢查當前真實時間
function doPost(e) {
  const now = new Date();
  const hour = now.getHours();
  
  // 根據真實時間調整回應氛圍
  let greeting;
  if (hour >= 6 && hour < 12) {
    greeting = "早安！陽光灑進食堂了呢。";
  } else if (hour >= 18 && hour < 23) {
    greeting = "夜深了，要不要來杯熱茶？";
  } else {
    greeting = "這麼晚還沒睡嗎？";
  }
  
  // ... 其他邏輯
}
```

**關鍵**：Bot 看起來「知道」現在幾點，但它是**被動檢查**，不是**主動推播**。

---

## 跨日解鎖機制

### 問題：如何強制玩家「等待」？

```javascript
function canProgressToDay2(userId) {
  const lastActiveDate = new Date(userState.lastActive);
  const now = new Date();
  
  // 檢查日期是否不同
  const isDifferentDay = (
    lastActiveDate.getDate() !== now.getDate() ||
    lastActiveDate.getMonth() !== now.getMonth()
  );
  
  if (!isDifferentDay) {
    return {
      canProgress: false,
      message: "今天的故事已經結束了，明天再來吧。☁️"
    };
  }
  
  return { canProgress: true };
}
```

---

## 成本節省計算

### 假設情境

- 用戶數：1,000 人
- 每日互動：2 次主動觸發（玩家點擊 Rich Menu）

**傳統即時制（推播）**：
- Bot 主動發送：1,000 人 × 2 則/天 × 30 天 = 60,000 則
- 費用：約 9,000 台幣/月

**回合制（拉取）**：
- Bot 被動回應：1,000 人 × 2 則/天 × 30 天 = 60,000 則
- 費用：**0 元**（Reply API 免費）

**節省幅度**：100%

---

## 設計哲學

**限制即創造力**

LINE OA 的計費模式「限制」了即時推播，反而「創造」了回合制遊戲的設計空間。

這種設計不是妥協，而是優勢：
- 降低玩家焦慮（沒有「錯過」的壓力）
- 提高自主性（玩家控制節奏）
- 完全免費（Reply API）

---

## 相關筆記

- [[開發哲學_成本優先原則]]（同資料夾）
- [[../../02-研究分析/Line OA 文字遊戲 MVP 開發指南]]

